(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{673:function(e,t,a){"use strict";var n=a(701),c=a(700),i=a(24),r=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(c.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})})};t.a=function(e){return Object(i.jsx)(i.Fragment,{children:e.control?Object(i.jsxs)(n.a,{variant:e.color,onClick:function(){return e.click(e.input,e.index)},type:e.type,style:{minWidth:e.width},block:e.block,disabled:e.disabled,input:e.input,children:[e.loading&&Object(i.jsx)(r,{})," ",e.name]}):Object(i.jsx)(n.a,{variant:e.color,onClick:e.click,type:e.type,style:{minWidth:e.width},block:e.block,disabled:e.disabled,children:e.loading?Object(i.jsx)(r,{}):e.name})})}},675:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){if(!e)return"";var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return"".concat(a,"-").concat(n.toString().padStart(2,"0"),"-").concat(c.toString().padStart(2,"0"))}},676:function(e,t,a){"use strict";var n=a(2),c=a.n(n),i=a(24),r=function(e){var t,a,n,c=null===(t=e.body)||void 0===t?void 0:t.to,r=null===(a=e.body)||void 0===a?void 0:a.total,l=null===(n=e.body)||void 0===n?void 0:n.links,d=function(t){e.change(t)};return Object(i.jsxs)("nav",{className:"d-flex justify-content-end",children:[Object(i.jsx)("div",{className:"align-self-center mr-3 font-weight-bold",children:Object(i.jsx)("span",{children:"".concat(c," of ").concat(r)})}),Object(i.jsx)("ul",{className:"pagination",children:l&&l.map((function(e,t){return Object(i.jsxs)("li",{className:"page-item ".concat(e.active&&"active"),children:[0===t&&Object(i.jsx)("span",{className:"page-link",onClick:d.bind(null,e.url),children:"\xab"}),t===l.length-1&&Object(i.jsx)("span",{className:"page-link",onClick:d.bind(null,e.url),children:"\xbb"}),0!==t&&t!==l.length-1&&Object(i.jsx)("span",{className:"page-link",onClick:d.bind(null,e.url),children:e.label})]},t)}))})]})};t.a=c.a.memo(r)},678:function(e,t,a){"use strict";var n=a(716),c=a(24);t.a=function(e){return Object(c.jsx)(n.a,{variant:e.color,children:Object(c.jsx)("div",{className:e.class,children:e.text})})}},680:function(e,t,a){"use strict";var n=a(179),c=a(2);t.a=function(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),a=t[0],i=t[1],r=Object(c.useState)(!1),l=Object(n.a)(r,2),d=l[0],o=l[1];return{inputValue:a,setInputValue:i,inputIsTouched:d,inputChangeHandler:function(e){i(e.target.value)},inputBlurHandler:function(e){o(!0)},reset:function(){i(""),o(!1)}}}},681:function(e,t,a){"use strict";var n=a(708),c=a(741),i=a(24);t.a=function(e){return Object(i.jsx)(n.a,{md:e.md,sm:e.sm,children:Object(i.jsxs)(c.a.Group,{children:[e.label&&Object(i.jsx)(c.a.Label,{children:e.label}),Object(i.jsx)(c.a.Control,{type:e.type,readOnly:e.readOnly,onChange:e.change,value:e.value,onBlur:e.blur,list:e.list,placeholder:e.placeHolder})]})})}},685:function(e,t,a){"use strict";var n=a(790),c=a(741),i=a(701),r=a(700),l=a(24);t.a=function(e){return Object(l.jsx)(n.a,{show:e.onShow,onHide:e.onClose,backdrop:"static",keyboard:!1,size:e.size,children:Object(l.jsxs)(c.a,{onSubmit:e.onSubmitHandler,children:[Object(l.jsx)(n.a.Header,{closeButton:!0,children:Object(l.jsx)(n.a.Title,{children:e.heading})}),Object(l.jsx)(n.a.Body,{children:e.children}),Object(l.jsxs)(n.a.Footer,{children:[e.showButton&&Object(l.jsxs)(i.a,{variant:e.variant,type:"submit",style:{width:e.width},children:[e.loading&&Object(l.jsx)(r.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),!e.loading&&e.action]}),Object(l.jsx)(i.a,{variant:"secondary",onClick:e.onClose,children:"Close"})]})]})})}},695:function(e,t,a){"use strict";var n=a(697),c=a(677),i=a(24),r=function(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(c.a,{name:e.name,size:"2xl",className:e.class,onClick:e.action})})};t.a=function(e){return Object(i.jsx)(n.a,{value:e.value,children:Object(i.jsx)(r,{class:e.class,name:e.name,action:e.action})})}},713:function(e,t,a){"use strict";var n=a(682),c=a(24);t.a=function(e){var t=e.header.map((function(e,t){return Object(c.jsx)("th",{children:e},t)}));return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(n.a,{responsive:"lg",striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{variant:"info",children:Object(c.jsx)("tr",{children:t})}),Object(c.jsx)("tbody",{children:e.children})]})})}},714:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(708),c=a(741),i=a(24),r=function(e){return Object(i.jsx)(n.a,{md:e.size,children:Object(i.jsx)(c.a.Group,{children:Object(i.jsx)(c.a.Control,{type:e.type,readOnly:e.readOnly,onChange:e.change,value:e.value,onBlur:e.blur,list:e.list,placeholder:e.label})})})}},724:function(e,t,a){"use strict";var n=a(16),c=a(35),i=a(668),r=a.n(i),l=a(2),d=a.n(l),o=a(669),s=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],j=d.a.forwardRef((function(e,t){var a=e.bsPrefix,i=e.className,l=e.noGutters,j=e.as,b=void 0===j?"div":j,p=Object(c.a)(e,s),O=Object(o.a)(a,"row"),h=O+"-cols",m=[];return u.forEach((function(e){var t,a=p[e];delete p[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&m.push(""+h+n+"-"+t)})),d.a.createElement(b,Object(n.a)({ref:t},p,{className:r.a.apply(void 0,[i,O,l&&"no-gutters"].concat(m))}))}));j.displayName="Row",j.defaultProps={noGutters:!1},t.a=j},731:function(e,t,a){"use strict";var n=a(700),c=a(24);t.a=function(e){return Object(c.jsx)("span",{className:e.class,children:Object(c.jsx)(n.a,{animation:"border",size:e.size})})}},767:function(e,t,a){e.exports={delete:"Product_delete__5GmCp",view:"Product_view__5uBsG"}},797:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(178),i=a(683),r=a(676),l=a(125),d=a(675),o=a(767),s=a.n(o),u=a(695),j=a(731),b=a(24),p=function(e){var t=Object(c.c)((function(e){return{initialLoad:e.productStore.initialLoad}})),a=Object(c.b)(),n=function(e){var t={id:e,action:"Update"};a(Object(l.b)(t))},i=function(e){var t={id:e,action:"Delete"};a(Object(l.b)(t))};return Object(b.jsx)(b.Fragment,{children:e.body.map((function(e,a){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.id}),Object(b.jsx)("td",{children:e.itemname}),Object(b.jsx)("td",{children:e.itemcode}),Object(b.jsx)("td",{children:e.count}),Object(b.jsx)("td",{children:Object(d.a)(e.updated_at)}),Object(b.jsxs)("td",{children:[t.initialLoad.id===e.id&&"Update"===t.initialLoad.action&&(t.initialLoad.loading?Object(b.jsx)(j.a,{class:s.a.view,size:"sm"}):Object(b.jsx)(u.a,{value:"Update",class:s.a.view,name:"cil-align-center",action:n.bind(null,e.id)})),(t.initialLoad.id!==e.id||"Update"!==t.initialLoad.action)&&Object(b.jsx)(u.a,{value:"Update",class:s.a.view,name:"cil-align-center",action:n.bind(null,e.id)}),"|",t.initialLoad.id===e.id&&"Delete"===t.initialLoad.action&&(t.initialLoad.loading?Object(b.jsx)(j.a,{class:s.a.delete,size:"sm"}):Object(b.jsx)(u.a,{value:"Delete",class:s.a.delete,name:"cil-trash",action:i.bind(null,e.id)})),(t.initialLoad.id!==e.id||"Delete"!==t.initialLoad.action)&&Object(b.jsx)(u.a,{value:"Update",class:s.a.delete,name:"cil-trash",action:i.bind(null,e.id)})]})]},a)}))})},O=a(713),h=a(678),m=a(714),g=a(685),x=a(680),f=a(3),v=function(){var e,t=Object(x.a)(),a=t.inputValue,i=t.setInputValue,r=t.inputChangeHandler,d=Object(x.a)(),o=d.inputValue,s=d.setInputValue,u=d.inputChangeHandler,j=Object(x.a)(),p=j.inputValue,O=j.setInputValue,v=j.inputChangeHandler,y=Object(c.c)((function(e){return{modalData:e.productStore.modalData,id:e.productStore.modalData.productId,isLoading:e.productStore.isLoading,initialLoad:e.productStore.initialLoad,updateData:e.productStore.updateData}})),C=Object(c.b)();Object(n.useEffect)((function(){y.modalData.isModalOpen&&"Update"===y.initialLoad.action&&(s(y.modalData.data.itemcode),i(y.modalData.data.itemname),O(y.modalData.data.count))}),[y.modalData,y.initialLoad.action,s,i,O]);return Object(b.jsxs)(g.a,{onShow:y.modalData.isModalOpen,onClose:function(){C(f.g.modalClose())},heading:y.modalData.modalHeading,variant:y.modalData.variant,action:y.modalData.modalAction,size:"md",onSubmitHandler:function(e){e.preventDefault();var t={itemId:y.id,itemCount:p,action:y.initialLoad.action.toLowerCase()};C(Object(l.d)(t))},loading:y.updateData.isLoading,showButton:!y.updateData.dataUpdated||"Delete"!==y.modalData.modalAction,children:[y.updateData.dataUpdated&&Object(b.jsx)(h.a,{color:y.updateData.color,text:y.updateData.msg}),"Delete"===y.initialLoad.action&&!y.updateData.dataUpdated&&Object(b.jsx)(h.a,{color:"danger",text:"please confirm that you are going to delete ".concat(null===(e=y.modalData.data)||void 0===e?void 0:e.itemname.toUpperCase())}),"Update"===y.initialLoad.action&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{type:"text",readOnly:!0,label:"Product Name",value:a,change:r}),Object(b.jsx)(m.a,{type:"text",readOnly:!0,label:"Product Code",value:o,change:u}),Object(b.jsx)(m.a,{type:"number",readOnly:!1,label:"Current Stock",value:p,change:v})]})]})},y=a(673),C=a(1),D=a(179),L=(a(29),a(716)),S=a(724),k=a(708),P=a(741),w=function(e){return Object(b.jsx)(P.a.Check,{inline:e.inline,label:e.label,name:e.name,type:e.type,value:e.value,onChange:e.change,checked:e.checked})},N=a(681),T=a(8),H=function(){var e=Object(x.a)(),t=e.inputValue,a=e.inputChangeHandler,i=e.reset,r=Object(x.a)(),l=r.inputValue,d=r.inputChangeHandler,o=r.reset,s=Object(x.a)(),u=s.inputValue,j=s.inputChangeHandler,p=s.reset,O=Object(n.useState)("singleProduct"),h=Object(D.a)(O,2),v=h[0],y=h[1],P=Object(n.useState)(""),H=Object(D.a)(P,2),U=H[0],F=H[1],V=function(e){y(e.target.value)},z=Object(n.useState)({isLoading:!1,alertText:"",alertType:""}),B=Object(D.a)(z,2),I=B[0],M=B[1],G=Object(c.c)((function(e){return{openModal:e.productStore.openModal}})),R=Object(c.b)();return Object(b.jsxs)(g.a,{onShow:G.openModal,onClose:function(){R(f.g.addProductModal({data:!1}))},heading:"Add a Product",variant:"primary",action:"Add Product",size:"md",onSubmitHandler:function(e){if(e.preventDefault(),M((function(e){return Object(C.a)(Object(C.a)({},e),{},{isLoading:!0})})),"multipleProducts"===v){R(f.g.dataNotChanged());var a=new FormData;a.append("file",U),Object(T.e)("product/add-multiple-products",a).then((function(e){var t=e.data.data.msg,a=e.data.data.type;R(f.g.dataChanged()),M("success"===a?function(e){return Object(C.a)(Object(C.a)({},e),{},{isLoading:!1,alertText:t,alertType:"success"})}:function(e){return Object(C.a)(Object(C.a)({},e),{},{isLoading:!1,alertText:t,alertType:"danger"})})})).catch((function(e){M((function(t){return Object(C.a)(Object(C.a)({},t),{},{isLoading:!1,alertText:e.response.data.error.msg,alertType:"danger"})}))}))}else{var n={itemname:t,itemcode:l,count:u};R(f.g.dataNotChanged()),Object(T.e)("add-product",n).then((function(e){var t=e.data.data.msg,a=e.data.data.type;R(f.g.dataChanged()),M("success"===a?function(e){return Object(C.a)(Object(C.a)({},e),{},{isLoading:!1,alertText:t,alertType:"success"})}:function(e){return Object(C.a)(Object(C.a)({},e),{},{isLoading:!1,alertText:t,alertType:"danger"})}),i(""),o(""),p("")})).catch((function(e){console.log(e.message)}))}},loading:I.isLoading,showButton:!0,children:[I.alertText&&Object(b.jsx)(L.a,{variant:I.alertType,children:I.alertText}),Object(b.jsxs)(S.a,{className:"mt-4 mb-4",children:[Object(b.jsx)(k.a,{sm:12,md:5,children:Object(b.jsx)(w,{inline:!0,label:"Create Single Product",type:"radio",value:"singleProduct",name:"inLineProduct",change:V,checked:"singleProduct"===v})}),Object(b.jsx)(k.a,{sm:12,md:6,children:Object(b.jsx)(w,{inline:!0,label:"Create Multiple Products(CSV)",type:"radio",value:"multipleProducts",name:"inLineProduct",change:V,checked:"multipleProducts"===v})})]}),"singleProduct"===v&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{type:"text",readOnly:!1,label:"Product Name",value:t,change:a}),Object(b.jsx)(m.a,{type:"text",readOnly:!1,label:"Product Code",value:l,change:d}),Object(b.jsx)(m.a,{type:"number",readOnly:!1,label:"Stock Count",value:u,change:j})]}),"multipleProducts"===v&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(N.a,{type:"file",readOnly:!1,label:"UpLoad CSV File",change:function(e){F(e.target.files[0])}})})]})};t.default=function(){var e=Object(c.c)((function(e){return{isDataChanged:e.productStore.isDataChanged,productData:e.productStore.productData,reRunData:e.productStore.reRunData}})),t=Object(c.b)();Object(n.useEffect)((function(){if(e.reRunData.isDataChanged){var a={param:e.reRunData.queryParam};t(Object(l.c)(a))}}),[t,e.reRunData.isDataChanged]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(H,{}),Object(b.jsx)("div",{className:"text-right mb-3",children:Object(b.jsx)(y.a,{name:"Add Product",color:"success",click:function(){t(f.g.addProductModal({data:!0}))}})}),!e.isDataChanged&&Object(b.jsx)(i.a,{}),e.isDataChanged&&Object(b.jsx)(O.a,{header:["#","Item Name","Item Code","Current Stock","Last Updated","Action"],children:Object(b.jsx)(p,{body:e.productData.data})}),e.isDataChanged&&Object(b.jsx)(r.a,{body:e.productData,change:function(e){var a=e.split("?")[1];t(f.g.updateParam({param:a}));var n={param:a};t(Object(l.c)(n))}})]})}}}]);
//# sourceMappingURL=13.f8f34271.chunk.js.map