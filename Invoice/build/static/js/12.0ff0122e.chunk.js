(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[12,28],{669:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(16);var n=a(2),c=a.n(n),i=c.a.createContext({});i.Consumer,i.Provider;function r(e,t){var a=Object(n.useContext)(i);return e||a[t]||t}},673:function(e,t,a){"use strict";var n=a(701),c=a(700),i=a(24),r=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(c.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})})};t.a=function(e){return Object(i.jsx)(i.Fragment,{children:e.control?Object(i.jsxs)(n.a,{variant:e.color,onClick:function(){return e.click(e.input,e.index)},type:e.type,style:{minWidth:e.width},block:e.block,disabled:e.disabled,input:e.input,children:[e.loading&&Object(i.jsx)(r,{})," ",e.name]}):Object(i.jsx)(n.a,{variant:e.color,onClick:e.click,type:e.type,style:{minWidth:e.width},block:e.block,disabled:e.disabled,children:e.loading?Object(i.jsx)(r,{}):e.name})})}},675:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){if(!e)return"";var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate();return"".concat(a,"-").concat(n.toString().padStart(2,"0"),"-").concat(c.toString().padStart(2,"0"))}},676:function(e,t,a){"use strict";var n=a(2),c=a.n(n),i=a(24),r=function(e){var t,a,n,c=null===(t=e.body)||void 0===t?void 0:t.to,r=null===(a=e.body)||void 0===a?void 0:a.total,s=null===(n=e.body)||void 0===n?void 0:n.links,o=function(t){e.change(t)};return Object(i.jsxs)("nav",{className:"d-flex justify-content-end",children:[Object(i.jsx)("div",{className:"align-self-center mr-3 font-weight-bold",children:Object(i.jsx)("span",{children:"".concat(c," of ").concat(r)})}),Object(i.jsx)("ul",{className:"pagination",children:s&&s.map((function(e,t){return Object(i.jsxs)("li",{className:"page-item ".concat(e.active&&"active"),children:[0===t&&Object(i.jsx)("span",{className:"page-link",onClick:o.bind(null,e.url),children:"\xab"}),t===s.length-1&&Object(i.jsx)("span",{className:"page-link",onClick:o.bind(null,e.url),children:"\xbb"}),0!==t&&t!==s.length-1&&Object(i.jsx)("span",{className:"page-link",onClick:o.bind(null,e.url),children:e.label})]},t)}))})]})};t.a=c.a.memo(r)},679:function(e,t,a){"use strict";var n=a(16),c=a(35),i=a(2),r=a.n(i),s=a(703),o=["as","disabled","onKeyDown"];function l(e){return!e||"#"===e.trim()}var d=r.a.forwardRef((function(e,t){var a=e.as,i=void 0===a?"a":a,d=e.disabled,u=e.onKeyDown,j=Object(c.a)(e,o),b=function(e){var t=j.href,a=j.onClick;(d||l(t))&&e.preventDefault(),d?e.stopPropagation():a&&a(e)};return l(j.href)&&(j.role=j.role||"button",j.href=j.href||"#"),d&&(j.tabIndex=-1,j["aria-disabled"]=!0),r.a.createElement(i,Object(n.a)({ref:t},j,{onClick:b,onKeyDown:Object(s.a)((function(e){" "===e.key&&(e.preventDefault(),b(e))}),u)}))}));d.displayName="SafeAnchor",t.a=d},683:function(e,t,a){"use strict";var n=a(728),c=a.n(n),i=a(672),r=a(24);t.a=function(e){return Object(r.jsx)("div",{className:e.class?e.class:c.a.spinner,children:Object(r.jsx)(i.Q,{color:"primary",variant:"grow",size:"lg"})})}},687:function(e,t,a){"use strict";var n=a(672),c=a(675),i=a(702),r=a.n(i),s=a(24);t.a=function(e){return Object(s.jsxs)(n.h,{children:[Object(s.jsxs)(n.l,{color:e.color,children:[Object(s.jsx)("h5",{className:r.a.cardHeader,children:e.header}),e.subTitle&&Object(s.jsxs)("p",{className:"text-white",children:[" ","By ".concat(e.by," on ").concat(Object(c.a)(e.date))]})]}),Object(s.jsx)(n.i,{children:e.children})]})}},697:function(e,t,a){"use strict";var n=a(672),c=a(24);t.a=function(e){return Object(c.jsx)(n.T,{content:e.value,children:Object(c.jsx)("span",{children:e.children})})}},698:function(e,t,a){"use strict";var n=a(24);t.a=function(e){return Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:e.labelName}),Object(n.jsx)("textarea",{className:"form-control",readOnly:e.readOnly,onChange:e.change,value:e.value,rows:e.rows,children:e.children})]})}},700:function(e,t,a){"use strict";var n=a(16),c=a(35),i=a(668),r=a.n(i),s=a(2),o=a.n(s),l=a(669),d=["bsPrefix","variant","animation","size","children","as","className"],u=o.a.forwardRef((function(e,t){var a=e.bsPrefix,i=e.variant,s=e.animation,u=e.size,j=e.children,b=e.as,f=void 0===b?"div":b,m=e.className,O=Object(c.a)(e,d),h=(a=Object(l.a)(a,"spinner"))+"-"+s;return o.a.createElement(f,Object(n.a)({ref:t},O,{className:r()(m,h,u&&h+"-"+u,i&&"text-"+i)}),j)}));u.displayName="Spinner",t.a=u},701:function(e,t,a){"use strict";var n=a(16),c=a(35),i=a(668),r=a.n(i),s=a(2),o=a.n(s),l=a(669),d=a(679),u=["bsPrefix","variant","size","active","className","block","type","as"],j=o.a.forwardRef((function(e,t){var a=e.bsPrefix,i=e.variant,s=e.size,j=e.active,b=e.className,f=e.block,m=e.type,O=e.as,h=Object(c.a)(e,u),p=Object(l.a)(a,"btn"),v=r()(b,p,j&&"active",i&&p+"-"+i,f&&p+"-block",s&&p+"-"+s);if(h.href)return o.a.createElement(d.a,Object(n.a)({},h,{as:O,ref:t,className:r()(v,h.disabled&&"disabled")}));t&&(h.ref=t),m?h.type=m:O||(h.type="button");var x=O||"button";return o.a.createElement(x,Object(n.a)({},h,{className:v}))}));j.displayName="Button",j.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=j},702:function(e,t,a){e.exports={cardHeader:"Card_cardHeader__rI94v"}},703:function(e,t,a){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];e.apply(this,n),t.apply(this,n)}}),null)}},728:function(e,t,a){e.exports={spinner:"Loader_spinner__UDQ-8"}},766:function(e,t,a){"use strict";var n=a(16),c=a(35),i=a(668),r=a.n(i),s=a(2),o=a.n(s),l=a(669),d=["bsPrefix","fluid","as","className"],u=o.a.forwardRef((function(e,t){var a=e.bsPrefix,i=e.fluid,s=e.as,u=void 0===s?"div":s,j=e.className,b=Object(c.a)(e,d),f=Object(l.a)(a,"container"),m="string"===typeof i?"-"+i:"-fluid";return o.a.createElement(u,Object(n.a)({ref:t},b,{className:r()(j,i?""+f+m:f)}))}));u.displayName="Container",u.defaultProps={fluid:!1},t.a=u},779:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(766),i=a(178),r=a(683),s=a(676),o=a(119),l=a(179),d=a(672),u=a(687),j=a(698),b=a(675),f=a(8),m=a(36),O=a(673),h=a(24),p=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),u=o[0],p=o[1],v=Object(n.useState)(""),x=Object(l.a)(v,2),g=x[0],y=x[1],k=Object(n.useState)(""),N=Object(l.a)(k,2),w=N[0],P=N[1],D=Object(n.useState)(!0),C=Object(l.a)(D,2),S=C[0],L=C[1],R=Object(n.useState)(!1),E=Object(l.a)(R,2),F=E[0],_=E[1];Object(n.useEffect)((function(){if(e.id&&S){var t=Object(m.c)("comments/get-post-comment/".concat(e.id),g);Object(f.c)(t).then((function(e){e.data.data;i(e.data.data.data),p(e.data.data)})).catch((function(e){console.log(e.message)}))}}),[e.id,S,g]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(h.Fragment,{children:[c&&0===c.length&&Object(h.jsx)("span",{className:"text-primary font-italic",children:"no comment yet for this post"}),c&&c.length>0&&Object(h.jsxs)(h.Fragment,{children:[c.map((function(e,t){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h6",{className:"font-weight-bolder text-primary",children:[e.name," ",Object(h.jsxs)("small",{className:"font-italic",children:["On ",Object(b.a)(e.created_at)]})]}),Object(h.jsx)("p",{className:"mt-2",children:e.content})]},t)})),Object(h.jsx)(s.a,{body:u,change:function(e){var t=e.split("?")[1];y(t)}})]}),e.isAuthenticatd&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.H,{children:Object(h.jsx)(d.m,{md:8,sm:12,children:Object(h.jsx)(j.a,{labelName:"Write your comment here",readOnly:!1,row:5,value:w,change:function(e){P(e.target.value)}})})}),Object(h.jsx)(d.H,{children:Object(h.jsx)(d.m,{md:4,sm:12,children:Object(h.jsx)(O.a,{type:"button",color:"success",width:"30%",name:"Submit",click:function(){if(w){_(!0),L(!1);var t={post_id:e.id,content:w};Object(f.e)("comments/create",t).then((function(e){y(""),L(!0),_(!1),P("")})).catch((function(e){console.log(e.response)}))}},loading:F})})})]})]})})},v=a(697),x=function(e){var t=e.id,a=Object(n.useState)(!0),c=Object(l.a)(a,2),i=c[0],r=(c[1],Object(n.useState)(!1)),s=Object(l.a)(r,2),o=s[0],d=s[1];Object(n.useEffect)((function(){if(i){var e={postId:t};Object(f.e)("likes/is-post-liked",e).then((function(e){e.data.data.userLiked?d(!0):d(!1)})).catch((function(e){console.log(e.message)}))}}),[i]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("p",{children:[Object(h.jsx)(v.a,{value:"".concat(o?"Unlike":"Like"," this post"),children:Object(h.jsx)("span",{className:"text-primary",onClick:function(){var a={postId:t,status:o};Object(f.e)("likes/update-user-like",a).then((function(t){var a=+t.data.data.totalLikes;d((function(e){return!e})),e.getLikes(a)})).catch((function(e){console.log(e.message)}))},children:o?"Unlike":"Like"})})," ","this Post"]})})},g=function(e){var t=Object(n.useState)(0),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!0),o=Object(l.a)(s,2),j=o[0],b=o[1],f=e.data,m=Object(i.c)((function(e){return{data:e.loginStore.loggedInData}}));Object(n.useEffect)((function(){j&&r(f.likes_count)}),[c,j]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(u.a,{color:"primary",header:f.title,subTitle:!0,by:f.name,date:f.created_at,children:Object(h.jsxs)("div",{className:"mx-3 my-2",children:[Object(h.jsx)("div",{className:"text-justify mb-3",children:f.content}),Object(h.jsxs)("div",{children:["Total Likes: ",c]}),Object(h.jsx)("div",{className:"mt-3",children:m.data.isDataReceived&&Object(h.jsx)(x,{id:f.id,getLikes:function(e){b(!1),r(e)}})}),Object(h.jsx)("div",{className:"mt-3",children:Object(h.jsx)(d.H,{children:Object(h.jsx)(d.m,{md:6,sm:12,children:f.id&&Object(h.jsx)(p,{id:f.id,isAuthenticatd:m.data.isDataReceived})})})})]})})})};t.default=function(){var e=Object(i.c)((function(e){return{isPostDataLoaded:e.postStore.isPostDataLoaded,postData:e.postStore.postData,reRunPostComponent:e.postStore.reRunPostComponent}})),t=Object(i.b)();Object(n.useEffect)((function(){if(e.reRunPostComponent.isDataChanged){var a={id:"all",param:e.reRunPostComponent.queryParam};t(Object(o.e)(a))}}),[e.reRunPostComponent.isDataChanged,t,e.reRunPostComponent.queryParam]);return Object(h.jsxs)(h.Fragment,{children:[!e.isPostDataLoaded&&Object(h.jsx)(r.a,{}),e.isPostDataLoaded&&Object(h.jsxs)(c.a,{style:{marginTop:"10%"},children:[e.postData.data.length>0&&e.postData.data.map((function(e,t){return Object(h.jsxs)("div",{children:[Object(h.jsx)(g,{data:e})," "]},t)})),e.isPostDataLoaded&&Object(h.jsx)("div",{className:"text-center",children:Object(h.jsx)(s.a,{body:e.postData,change:function(e){if(e){var a={id:"all",param:e.split("?")[1]};t(Object(o.e)(a))}}})})]})]})}}}]);
//# sourceMappingURL=12.0ff0122e.chunk.js.map