(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[28],{673:function(e,t,a){"use strict";var c=a(701),n=a(700),s=a(24),i=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(n.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})})};t.a=function(e){return Object(s.jsx)(s.Fragment,{children:e.control?Object(s.jsxs)(c.a,{variant:e.color,onClick:function(){return e.click(e.input,e.index)},type:e.type,style:{minWidth:e.width},block:e.block,disabled:e.disabled,input:e.input,children:[e.loading&&Object(s.jsx)(i,{})," ",e.name]}):Object(s.jsx)(c.a,{variant:e.color,onClick:e.click,type:e.type,style:{minWidth:e.width},block:e.block,disabled:e.disabled,children:e.loading?Object(s.jsx)(i,{}):e.name})})}},675:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var c=function(e){if(!e)return"";var t=new Date(e),a=t.getFullYear(),c=t.getMonth()+1,n=t.getDate();return"".concat(a,"-").concat(c.toString().padStart(2,"0"),"-").concat(n.toString().padStart(2,"0"))}},676:function(e,t,a){"use strict";var c=a(2),n=a.n(c),s=a(24),i=function(e){var t,a,c,n=null===(t=e.body)||void 0===t?void 0:t.to,i=null===(a=e.body)||void 0===a?void 0:a.total,r=null===(c=e.body)||void 0===c?void 0:c.links,o=function(t){e.change(t)};return Object(s.jsxs)("nav",{className:"d-flex justify-content-end",children:[Object(s.jsx)("div",{className:"align-self-center mr-3 font-weight-bold",children:Object(s.jsx)("span",{children:"".concat(n," of ").concat(i)})}),Object(s.jsx)("ul",{className:"pagination",children:r&&r.map((function(e,t){return Object(s.jsxs)("li",{className:"page-item ".concat(e.active&&"active"),children:[0===t&&Object(s.jsx)("span",{className:"page-link",onClick:o.bind(null,e.url),children:"\xab"}),t===r.length-1&&Object(s.jsx)("span",{className:"page-link",onClick:o.bind(null,e.url),children:"\xbb"}),0!==t&&t!==r.length-1&&Object(s.jsx)("span",{className:"page-link",onClick:o.bind(null,e.url),children:e.label})]},t)}))})]})};t.a=n.a.memo(i)},687:function(e,t,a){"use strict";var c=a(672),n=a(675),s=a(702),i=a.n(s),r=a(24);t.a=function(e){return Object(r.jsxs)(c.h,{children:[Object(r.jsxs)(c.l,{color:e.color,children:[Object(r.jsx)("h5",{className:i.a.cardHeader,children:e.header}),e.subTitle&&Object(r.jsxs)("p",{className:"text-white",children:[" ","By ".concat(e.by," on ").concat(Object(n.a)(e.date))]})]}),Object(r.jsx)(c.i,{children:e.children})]})}},698:function(e,t,a){"use strict";var c=a(24);t.a=function(e){return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:e.labelName}),Object(c.jsx)("textarea",{className:"form-control",readOnly:e.readOnly,onChange:e.change,value:e.value,rows:e.rows,children:e.children})]})}},700:function(e,t,a){"use strict";var c=a(16),n=a(35),s=a(668),i=a.n(s),r=a(2),o=a.n(r),l=a(669),d=["bsPrefix","variant","animation","size","children","as","className"],j=o.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.variant,r=e.animation,j=e.size,b=e.children,u=e.as,m=void 0===u?"div":u,O=e.className,h=Object(n.a)(e,d),f=(a=Object(l.a)(a,"spinner"))+"-"+r;return o.a.createElement(m,Object(c.a)({ref:t},h,{className:i()(O,f,j&&f+"-"+j,s&&"text-"+s)}),b)}));j.displayName="Spinner",t.a=j},701:function(e,t,a){"use strict";var c=a(16),n=a(35),s=a(668),i=a.n(s),r=a(2),o=a.n(r),l=a(669),d=a(679),j=["bsPrefix","variant","size","active","className","block","type","as"],b=o.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.variant,r=e.size,b=e.active,u=e.className,m=e.block,O=e.type,h=e.as,f=Object(n.a)(e,j),p=Object(l.a)(a,"btn"),x=i()(u,p,b&&"active",s&&p+"-"+s,m&&p+"-block",r&&p+"-"+r);if(f.href)return o.a.createElement(d.a,Object(c.a)({},f,{as:h,ref:t,className:i()(x,f.disabled&&"disabled")}));t&&(f.ref=t),O?f.type=O:h||(f.type="button");var v=h||"button";return o.a.createElement(v,Object(c.a)({},f,{className:x}))}));b.displayName="Button",b.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=b},702:function(e,t,a){e.exports={cardHeader:"Card_cardHeader__rI94v"}},779:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(766),s=a(178),i=a(683),r=a(676),o=a(119),l=a(179),d=a(672),j=a(687),b=a(698),u=a(675),m=a(8),O=a(36),h=a(673),f=a(24),p=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(""),o=Object(l.a)(i,2),j=o[0],p=o[1],x=Object(c.useState)(""),v=Object(l.a)(x,2),g=v[0],y=v[1],k=Object(c.useState)(""),N=Object(l.a)(k,2),S=N[0],P=N[1],D=Object(c.useState)(!0),C=Object(l.a)(D,2),w=C[0],L=C[1],F=Object(c.useState)(!1),R=Object(l.a)(F,2),E=R[0],_=R[1];Object(c.useEffect)((function(){if(e.id&&w){var t=Object(O.c)("comments/get-post-comment/".concat(e.id),g);Object(m.c)(t).then((function(e){e.data.data;s(e.data.data.data),p(e.data.data)})).catch((function(e){console.log(e.message)}))}}),[e.id,w,g]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(f.Fragment,{children:[n&&0===n.length&&Object(f.jsx)("span",{className:"text-primary font-italic",children:"no comment yet for this post"}),n&&n.length>0&&Object(f.jsxs)(f.Fragment,{children:[n.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h6",{className:"font-weight-bolder text-primary",children:[e.name," ",Object(f.jsxs)("small",{className:"font-italic",children:["On ",Object(u.a)(e.created_at)]})]}),Object(f.jsx)("p",{className:"mt-2",children:e.content})]},t)})),Object(f.jsx)(r.a,{body:j,change:function(e){var t=e.split("?")[1];y(t)}})]}),e.isAuthenticatd&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.H,{children:Object(f.jsx)(d.m,{md:8,sm:12,children:Object(f.jsx)(b.a,{labelName:"Write your comment here",readOnly:!1,row:5,value:S,change:function(e){P(e.target.value)}})})}),Object(f.jsx)(d.H,{children:Object(f.jsx)(d.m,{md:4,sm:12,children:Object(f.jsx)(h.a,{type:"button",color:"success",width:"30%",name:"Submit",click:function(){if(S){_(!0),L(!1);var t={post_id:e.id,content:S};Object(m.e)("comments/create",t).then((function(e){y(""),L(!0),_(!1),P("")})).catch((function(e){console.log(e.response)}))}},loading:E})})})]})]})})},x=a(697),v=function(e){var t=e.id,a=Object(c.useState)(!0),n=Object(l.a)(a,2),s=n[0],i=(n[1],Object(c.useState)(!1)),r=Object(l.a)(i,2),o=r[0],d=r[1];Object(c.useEffect)((function(){if(s){var e={postId:t};Object(m.e)("likes/is-post-liked",e).then((function(e){e.data.data.userLiked?d(!0):d(!1)})).catch((function(e){console.log(e.message)}))}}),[s]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("p",{children:[Object(f.jsx)(x.a,{value:"".concat(o?"Unlike":"Like"," this post"),children:Object(f.jsx)("span",{className:"text-primary",onClick:function(){var a={postId:t,status:o};Object(m.e)("likes/update-user-like",a).then((function(t){var a=+t.data.data.totalLikes;d((function(e){return!e})),e.getLikes(a)})).catch((function(e){console.log(e.message)}))},children:o?"Unlike":"Like"})})," ","this Post"]})})},g=function(e){var t=Object(c.useState)(0),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(!0),o=Object(l.a)(r,2),b=o[0],u=o[1],m=e.data,O=Object(s.c)((function(e){return{data:e.loginStore.loggedInData}}));Object(c.useEffect)((function(){b&&i(m.likes_count)}),[n,b]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(j.a,{color:"primary",header:m.title,subTitle:!0,by:m.name,date:m.created_at,children:Object(f.jsxs)("div",{className:"mx-3 my-2",children:[Object(f.jsx)("div",{className:"text-justify mb-3",children:m.content}),Object(f.jsxs)("div",{children:["Total Likes: ",n]}),Object(f.jsx)("div",{className:"mt-3",children:O.data.isDataReceived&&Object(f.jsx)(v,{id:m.id,getLikes:function(e){u(!1),i(e)}})}),Object(f.jsx)("div",{className:"mt-3",children:Object(f.jsx)(d.H,{children:Object(f.jsx)(d.m,{md:6,sm:12,children:m.id&&Object(f.jsx)(p,{id:m.id,isAuthenticatd:O.data.isDataReceived})})})})]})})})};t.default=function(){var e=Object(s.c)((function(e){return{isPostDataLoaded:e.postStore.isPostDataLoaded,postData:e.postStore.postData,reRunPostComponent:e.postStore.reRunPostComponent}})),t=Object(s.b)();Object(c.useEffect)((function(){if(e.reRunPostComponent.isDataChanged){var a={id:"all",param:e.reRunPostComponent.queryParam};t(Object(o.e)(a))}}),[e.reRunPostComponent.isDataChanged,t,e.reRunPostComponent.queryParam]);return Object(f.jsxs)(f.Fragment,{children:[!e.isPostDataLoaded&&Object(f.jsx)(i.a,{}),e.isPostDataLoaded&&Object(f.jsxs)(n.a,{style:{marginTop:"10%"},children:[e.postData.data.length>0&&e.postData.data.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{data:e})," "]},t)})),e.isPostDataLoaded&&Object(f.jsx)("div",{className:"text-center",children:Object(f.jsx)(r.a,{body:e.postData,change:function(e){if(e){var a={id:"all",param:e.split("?")[1]};t(Object(o.e)(a))}}})})]})]})}}}]);
//# sourceMappingURL=28.fac11d4e.chunk.js.map