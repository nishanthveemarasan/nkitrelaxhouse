{"ast":null,"code":"import _slicedToArray from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\nkItService\\\\relax-frontend\\\\src\\\\Components\\\\views\\\\Comments\\\\CommentPost\\\\CommentPost.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Pagination from \"src/Components/UI/Table/Pagination\";\nimport { getDate } from \"src/custom-functions\";\nimport { sendGetAdminApi } from \"src/service/appService\";\nimport { getPostCommentData } from \"src/store/comment-slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar CommentPost = function CommentPost(props) {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      comment = _useState2[0],\n      setComment = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cPagination = _useState4[0],\n      setpagination = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      param = _useState6[0],\n      setParam = _useState6[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (props.id) {\n      sendGetAdminApi(\"comments/get-post-comment/\".concat(props.id)).then(function (response) {\n        var data = {\n          data: response.data.data\n        };\n        setComment(response.data.data.data);\n        setpagination(response.data.data);\n      }).catch(function (error) {\n        console.log(error.message);\n      });\n    }\n  }, [props.id]);\n\n  var pageChangeHandler = function pageChangeHandler(url) {\n    var param = url.split(\"?\")[1];\n    console.log(param);\n    sendGetAdminApi(\"comments/get-post-comment/\".concat(props.id, \"?\").concat(param[1])).then(function (response) {\n      var data = {\n        data: response.data.data\n      };\n      setpagination(response.data.data);\n      setComment(response.data.data.data);\n    }).catch(function (error) {\n      console.log(error.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [comment.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-primary font-italic\",\n      children: \"no comment yet for this post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, _this), comment.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [comment.map(function (row, index) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"font-weight-bolder text-primary\",\n            children: [row.name, \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"font-italic\",\n              children: [\"On \", getDate(row.created_at)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2\",\n            children: row.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, _this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(Pagination, {\n        body: cPagination,\n        change: pageChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(CommentPost, \"AdE9JKSxqLEmn/vukpC5AenH+wM=\", false, function () {\n  return [useDispatch];\n});\n\n_c = CommentPost;\nexport default _c2 = /*#__PURE__*/React.memo(CommentPost);\n/**\r\n * content: \"reerger\"\r\ncreated_at: \"2021-06-21T08:58:49.000000Z\"\r\nid: 51\r\nname: \"Nishanthan\"\r\npost_id: 4\r\nstatus: \"approve\"\r\nupdated_at: \"2021-06-21T08:58:49.000000Z\"\r\n\r\n */\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CommentPost\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/Components/views/Comments/CommentPost/CommentPost.js"],"names":["React","useEffect","useState","useDispatch","Pagination","getDate","sendGetAdminApi","getPostCommentData","CommentPost","props","comment","setComment","cPagination","setpagination","param","setParam","dispatch","id","then","response","data","catch","error","console","log","message","pageChangeHandler","url","split","length","map","row","index","name","created_at","content","memo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Pagination from \"src/Components/UI/Table/Pagination\";\r\nimport { getDate } from \"src/custom-functions\";\r\nimport { sendGetAdminApi } from \"src/service/appService\";\r\nimport { getPostCommentData } from \"src/store/comment-slice\";\r\nconst CommentPost = (props) => {\r\n  const [comment, setComment] = useState([]);\r\n  const [cPagination, setpagination] = useState(\"\");\r\n  const [param, setParam] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (props.id) {\r\n      sendGetAdminApi(`comments/get-post-comment/${props.id}`)\r\n        .then((response) => {\r\n          const data = {\r\n            data: response.data.data,\r\n          };\r\n          setComment(response.data.data.data);\r\n          setpagination(response.data.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n    }\r\n  }, [props.id]);\r\n  const pageChangeHandler = (url) => {\r\n    const param = url.split(\"?\")[1];\r\n    console.log(param);\r\n    sendGetAdminApi(`comments/get-post-comment/${props.id}?${param[1]}`)\r\n      .then((response) => {\r\n        const data = {\r\n          data: response.data.data,\r\n        };\r\n        setpagination(response.data.data);\r\n        setComment(response.data.data.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <>\r\n      {comment.length === 0 && (\r\n        <span className=\"text-primary font-italic\">\r\n          no comment yet for this post\r\n        </span>\r\n      )}\r\n      {comment.length > 0 && (\r\n        <>\r\n          {comment.map((row, index) => {\r\n            return (\r\n              <div key={index}>\r\n                <h6 className=\"font-weight-bolder text-primary\">\r\n                  {row.name}{\" \"}\r\n                  <small className=\"font-italic\">\r\n                    On {getDate(row.created_at)}\r\n                  </small>\r\n                </h6>\r\n                <p className=\"mt-2\">{row.content}</p>\r\n              </div>\r\n            );\r\n          })}\r\n          <Pagination body={cPagination} change={pageChangeHandler} />\r\n        </>\r\n      )}\r\n      {/* {comment && comment.length > 0 && (\r\n        <Pagination body={pagination} change={pageChangeHandler} />\r\n      )} */}\r\n      {/* {comment && comment.length > 0 && \"hi\"} */}\r\n    </>\r\n  );\r\n};\r\nexport default React.memo(CommentPost);\r\n/**\r\n * content: \"reerger\"\r\ncreated_at: \"2021-06-21T08:58:49.000000Z\"\r\nid: 51\r\nname: \"Nishanthan\"\r\npost_id: 4\r\nstatus: \"approve\"\r\nupdated_at: \"2021-06-21T08:58:49.000000Z\"\r\n\r\n */\r\n"]},"metadata":{},"sourceType":"module"}