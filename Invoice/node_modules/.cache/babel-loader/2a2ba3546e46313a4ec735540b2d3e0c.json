{"ast":null,"code":"import{useSelector,useDispatch}from\"react-redux\";import ActionButton from\"src/Components/UI/ActionButton/ActionButton\";import{getDate}from\"src/custom-functions\";import classes from\"./Order.module.css\";import{CBadge}from\"@coreui/react\";import{getSaleModalData}from\"src/store/sale-slice\";import CSpinner from\"src/Components/UI/Spinner/CSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OrderTableBody=function OrderTableBody(props){var mapStateToProps=function mapStateToProps(state){return{saleModalData:state.saleStore.saleModalData};};var state=useSelector(mapStateToProps);var dispatch=useDispatch();var updateHandler=function updateHandler(id){var data={action:\"Update\",id:props.body[id].id,saleData:props.body[id]};dispatch(getSaleModalData(data));};var deleteHandler=function deleteHandler(id){var data={action:\"Delete\",id:props.body[id].id,saleData:props.body[id]};dispatch(getSaleModalData(data));};return/*#__PURE__*/_jsx(_Fragment,{children:props.body.map(function(row,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.id}),/*#__PURE__*/_jsx(\"td\",{children:row.order_number}),/*#__PURE__*/_jsx(\"td\",{children:row.itemname}),/*#__PURE__*/_jsx(\"td\",{children:row.sellcount}),/*#__PURE__*/_jsx(\"td\",{children:getStatus(row.sell_type)}),/*#__PURE__*/_jsx(\"td\",{children:getDate(row.updated_at)}),/*#__PURE__*/_jsxs(\"td\",{children:[state.saleModalData.saleId===row.id&&state.saleModalData.actionType===\"Update\"&&(state.saleModalData.isLoading?/*#__PURE__*/_jsx(CSpinner,{class:classes.view,size:\"sm\"}):/*#__PURE__*/_jsx(ActionButton,{value:\"Update\",class:classes.view,name:\"cil-align-center\",action:function action(){return updateHandler(i);}})),(state.saleModalData.saleId!==row.id||state.saleModalData.actionType!==\"Update\")&&/*#__PURE__*/_jsx(ActionButton,{value:\"Update\",class:classes.view,name:\"cil-align-center\",action:function action(){return updateHandler(i);}}),\" \",\"|\",\" \",/*#__PURE__*/_jsx(ActionButton,{value:\"Delete\",class:classes.delete,name:\"cil-trash\",action:function action(){return deleteHandler(i);}})]})]},i);})});};export default OrderTableBody;var getStatus=function getStatus(value){switch(value){case\"received\":return/*#__PURE__*/_jsx(CBadge,{color:\"danger\",children:\"Received\"});case\"processing\":return/*#__PURE__*/_jsx(CBadge,{color:\"warning\",children:\"Processing\"});case\"packed\":return/*#__PURE__*/_jsx(CBadge,{color:\"info\",children:\"Packed\"});case\"sent\":return/*#__PURE__*/_jsx(CBadge,{color:\"success\",children:\"Sent\"});default:return false;}};","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/Components/views/Sales/Order/OrderTableBody.js"],"names":["useSelector","useDispatch","ActionButton","getDate","classes","CBadge","getSaleModalData","CSpinner","OrderTableBody","props","mapStateToProps","state","saleModalData","saleStore","dispatch","updateHandler","id","data","action","body","saleData","deleteHandler","map","row","i","order_number","itemname","sellcount","getStatus","sell_type","updated_at","saleId","actionType","isLoading","view","delete","value"],"mappings":"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","sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\r\nimport ActionButton from \"src/Components/UI/ActionButton/ActionButton\";\r\nimport { getDate } from \"src/custom-functions\";\r\nimport classes from \"./Order.module.css\";\r\nimport { CBadge } from \"@coreui/react\";\r\nimport { getSaleModalData } from \"src/store/sale-slice\";\r\nimport CSpinner from \"src/Components/UI/Spinner/CSpinner\";\r\n\r\nconst OrderTableBody = (props) => {\r\n  const mapStateToProps = (state) => {\r\n    return {\r\n      saleModalData: state.saleStore.saleModalData,\r\n    };\r\n  };\r\n  const state = useSelector(mapStateToProps);\r\n  const dispatch = useDispatch();\r\n  const updateHandler = (id) => {\r\n    const data = {\r\n      action: \"Update\",\r\n      id: props.body[id].id,\r\n      saleData: props.body[id],\r\n    };\r\n    dispatch(getSaleModalData(data));\r\n  };\r\n  const deleteHandler = (id) => {\r\n    const data = {\r\n      action: \"Delete\",\r\n      id: props.body[id].id,\r\n      saleData: props.body[id],\r\n    };\r\n    dispatch(getSaleModalData(data));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {props.body.map((row, i) => {\r\n        return (\r\n          <tr key={i}>\r\n            <td>{row.id}</td>\r\n            <td>{row.order_number}</td>\r\n            <td>{row.itemname}</td>\r\n            <td>{row.sellcount}</td>\r\n            <td>{getStatus(row.sell_type)}</td>\r\n            <td>{getDate(row.updated_at)}</td>\r\n            <td>\r\n              {state.saleModalData.saleId === row.id &&\r\n                state.saleModalData.actionType === \"Update\" &&\r\n                (state.saleModalData.isLoading ? (\r\n                  <CSpinner class={classes.view} size=\"sm\" />\r\n                ) : (\r\n                  <ActionButton\r\n                    value=\"Update\"\r\n                    class={classes.view}\r\n                    name=\"cil-align-center\"\r\n                    action={() => updateHandler(i)}\r\n                  />\r\n                ))}\r\n              {(state.saleModalData.saleId !== row.id ||\r\n                state.saleModalData.actionType !== \"Update\") && (\r\n                <ActionButton\r\n                  value=\"Update\"\r\n                  class={classes.view}\r\n                  name=\"cil-align-center\"\r\n                  action={() => updateHandler(i)}\r\n                />\r\n              )}{\" \"}\r\n              |{\" \"}\r\n              <ActionButton\r\n                value=\"Delete\"\r\n                class={classes.delete}\r\n                name=\"cil-trash\"\r\n                action={() => deleteHandler(i)}\r\n              />\r\n            </td>\r\n          </tr>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\nexport default OrderTableBody;\r\n\r\nconst getStatus = (value) => {\r\n  switch (value) {\r\n    case \"received\":\r\n      return <CBadge color=\"danger\">Received</CBadge>;\r\n    case \"processing\":\r\n      return <CBadge color=\"warning\">Processing</CBadge>;\r\n    case \"packed\":\r\n      return <CBadge color=\"info\">Packed</CBadge>;\r\n    case \"sent\":\r\n      return <CBadge color=\"success\">Sent</CBadge>;\r\n    default:\r\n      return false;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}