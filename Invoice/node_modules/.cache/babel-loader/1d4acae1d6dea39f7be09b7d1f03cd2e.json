{"ast":null,"code":"import _slicedToArray from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\nkItService\\\\relax-frontend\\\\src\\\\views\\\\Home\\\\Posts\\\\SinglePost\\\\SinglePost.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { CCol, CRow } from \"@coreui/react\";\nimport Card from \"src/Components/UI/Card/Card\";\nimport PostComment from \"../Comment/PostComment\";\nimport Like from \"../Like/Like\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar SinglePost = function SinglePost(props) {\n  _s();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      like = _useState2[0],\n      setLike = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      likeChanged = _useState4[0],\n      setLikeChanged = _useState4[1];\n\n  var post = props.data;\n\n  var mapStateToProps = function mapStateToProps(state) {\n    return {\n      data: state.loginStore.loggedInData\n    };\n  };\n\n  var state = useSelector(mapStateToProps);\n  useEffect(function () {\n    if (likeChanged) {\n      setLike(post.likes_count);\n    }\n  }, [like, likeChanged]);\n\n  var getTotalLikes = function getTotalLikes(likes) {\n    setLikeChanged(false);\n    setLike(likes);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      color: \"primary\",\n      header: post.title,\n      subTitle: true,\n      by: post.name,\n      date: post.created_at,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-3 my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-justify mb-3\",\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Total Likes: \", like]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: state.data.isDataReceived && /*#__PURE__*/_jsxDEV(Like, {\n            id: post.id,\n            getLikes: getTotalLikes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: /*#__PURE__*/_jsxDEV(CRow, {\n            children: /*#__PURE__*/_jsxDEV(CCol, {\n              md: 6,\n              sm: 12,\n              children: /*#__PURE__*/_jsxDEV(PostComment, {\n                id: post.id,\n                isAuthenticatd: state.data.isDataReceived\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(SinglePost, \"Ydhqz9G05cVDNUdXReyKqE3bcic=\", false, function () {\n  return [useSelector];\n});\n\n_c = SinglePost;\nexport default SinglePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"SinglePost\");","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/views/Home/Posts/SinglePost/SinglePost.js"],"names":["React","useState","useEffect","CCol","CRow","Card","PostComment","Like","useSelector","SinglePost","props","like","setLike","likeChanged","setLikeChanged","post","data","mapStateToProps","state","loginStore","loggedInData","likes_count","getTotalLikes","likes","title","name","created_at","content","isDataReceived","id"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,eAA3B;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,SAASC,WAAT,QAA4B,aAA5B;;;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAAA;;AAC5B,kBAAwBT,QAAQ,CAAC,CAAD,CAAhC;AAAA;AAAA,MAAOU,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAsCX,QAAQ,CAAC,IAAD,CAA9C;AAAA;AAAA,MAAOY,WAAP;AAAA,MAAoBC,cAApB;;AACA,MAAMC,IAAI,GAAGL,KAAK,CAACM,IAAnB;;AACA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,WAAO;AACLF,MAAAA,IAAI,EAAEE,KAAK,CAACC,UAAN,CAAiBC;AADlB,KAAP;AAGD,GAJD;;AAKA,MAAMF,KAAK,GAAGV,WAAW,CAACS,eAAD,CAAzB;AACAf,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIW,WAAJ,EAAiB;AACfD,MAAAA,OAAO,CAACG,IAAI,CAACM,WAAN,CAAP;AACD;AACF,GAJQ,EAIN,CAACV,IAAD,EAAOE,WAAP,CAJM,CAAT;;AAMA,MAAMS,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC/BT,IAAAA,cAAc,CAAC,KAAD,CAAd;AACAF,IAAAA,OAAO,CAACW,KAAD,CAAP;AACD,GAHD;;AAIA,sBACE;AAAA,2BACE,QAAC,IAAD;AACE,MAAA,KAAK,EAAC,SADR;AAEE,MAAA,MAAM,EAAER,IAAI,CAACS,KAFf;AAGE,MAAA,QAAQ,EAAE,IAHZ;AAIE,MAAA,EAAE,EAAET,IAAI,CAACU,IAJX;AAKE,MAAA,IAAI,EAAEV,IAAI,CAACW,UALb;AAAA,6BAOE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAA,oBAAoCX,IAAI,CAACY;AAAzC;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAA,sCAAmBhB,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,eAGE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,oBACGO,KAAK,CAACF,IAAN,CAAWY,cAAX,iBACC,QAAC,IAAD;AAAM,YAAA,EAAE,EAAEb,IAAI,CAACc,EAAf;AAAmB,YAAA,QAAQ,EAAEP;AAA7B;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,iBAHF,eAQE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,iCACE,QAAC,IAAD;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,EAAE,EAAE,CAAV;AAAa,cAAA,EAAE,EAAE,EAAjB;AAAA,qCACE,QAAC,WAAD;AACE,gBAAA,EAAE,EAAEP,IAAI,CAACc,EADX;AAEE,gBAAA,cAAc,EAAEX,KAAK,CAACF,IAAN,CAAWY;AAF7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AA+BD,CAnDD;;GAAMnB,U;UASUD,W;;;KATVC,U;AAoDN,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { CCol, CRow } from \"@coreui/react\";\r\nimport Card from \"src/Components/UI/Card/Card\";\r\nimport PostComment from \"../Comment/PostComment\";\r\nimport Like from \"../Like/Like\";\r\nimport { useSelector } from \"react-redux\";\r\nconst SinglePost = (props) => {\r\n  const [like, setLike] = useState(0);\r\n  const [likeChanged, setLikeChanged] = useState(true);\r\n  const post = props.data;\r\n  const mapStateToProps = (state) => {\r\n    return {\r\n      data: state.loginStore.loggedInData,\r\n    };\r\n  };\r\n  const state = useSelector(mapStateToProps);\r\n  useEffect(() => {\r\n    if (likeChanged) {\r\n      setLike(post.likes_count);\r\n    }\r\n  }, [like, likeChanged]);\r\n\r\n  const getTotalLikes = (likes) => {\r\n    setLikeChanged(false);\r\n    setLike(likes);\r\n  };\r\n  return (\r\n    <>\r\n      <Card\r\n        color=\"primary\"\r\n        header={post.title}\r\n        subTitle={true}\r\n        by={post.name}\r\n        date={post.created_at}\r\n      >\r\n        <div className=\"mx-3 my-2\">\r\n          <div className=\"text-justify mb-3\">{post.content}</div>\r\n          <div>Total Likes: {like}</div>\r\n          <div className=\"mt-3\">\r\n            {state.data.isDataReceived && (\r\n              <Like id={post.id} getLikes={getTotalLikes} />\r\n            )}\r\n          </div>\r\n          <div className=\"mt-3\">\r\n            <CRow>\r\n              <CCol md={6} sm={12}>\r\n                <PostComment\r\n                  id={post.id}\r\n                  isAuthenticatd={state.data.isDataReceived}\r\n                />\r\n              </CCol>\r\n            </CRow>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\nexport default SinglePost;\r\n"]},"metadata":{},"sourceType":"module"}