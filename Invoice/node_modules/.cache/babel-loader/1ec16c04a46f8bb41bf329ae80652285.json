{"ast":null,"code":"import{useEffect}from\"react\";import{Container}from\"react-bootstrap\";import{useSelector,useDispatch}from\"react-redux\";import Loader from\"src/Components/UI/Loader/Loader\";import Pagination from\"src/Components/UI/Table/Pagination\";import{getPostData}from\"src/store/post.slice\";import SinglePost from\"./SinglePost/SinglePost\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Posts=function Posts(){var mapStateToProps=function mapStateToProps(state){return{isPostDataLoaded:state.postStore.isPostDataLoaded,postData:state.postStore.postData,reRunPostComponent:state.postStore.reRunPostComponent};};var state=useSelector(mapStateToProps);var dispatch=useDispatch();useEffect(function(){if(state.reRunPostComponent.isDataChanged){var data={id:\"all\",param:state.reRunPostComponent.queryParam};dispatch(getPostData(data));}},[state.reRunPostComponent.isDataChanged,dispatch,state.reRunPostComponent.queryParam]);var pageChangeHandler=function pageChangeHandler(url){if(url){var param=url.split(\"?\")[1];var data={id:\"all\",param:param};dispatch(getPostData(data));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[!state.isPostDataLoaded&&/*#__PURE__*/_jsx(Loader,{}),state.isPostDataLoaded&&/*#__PURE__*/_jsxs(Container,{style:{marginTop:\"10%\"},children:[state.postData.data.length>0&&state.postData.data.map(function(row,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SinglePost,{data:row}),\" \"]},i);}),state.isPostDataLoaded&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Pagination,{body:state.postData,change:pageChangeHandler})})]})]});};export default Posts;","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/views/Home/Posts/Posts.js"],"names":["useEffect","Container","useSelector","useDispatch","Loader","Pagination","getPostData","SinglePost","Posts","mapStateToProps","state","isPostDataLoaded","postStore","postData","reRunPostComponent","dispatch","isDataChanged","data","id","param","queryParam","pageChangeHandler","url","split","marginTop","length","map","row","i"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oCAAvB,CACA,OAASC,WAAT,KAA4B,sBAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,C,6IACA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjC,MAAO,CACLC,gBAAgB,CAAED,KAAK,CAACE,SAAN,CAAgBD,gBAD7B,CAELE,QAAQ,CAAEH,KAAK,CAACE,SAAN,CAAgBC,QAFrB,CAGLC,kBAAkB,CAAEJ,KAAK,CAACE,SAAN,CAAgBE,kBAH/B,CAAP,CAKD,CAND,CAOA,GAAMJ,CAAAA,KAAK,CAAGR,WAAW,CAACO,eAAD,CAAzB,CAEA,GAAMM,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACAH,SAAS,CAAC,UAAM,CACd,GAAIU,KAAK,CAACI,kBAAN,CAAyBE,aAA7B,CAA4C,CAC1C,GAAMC,CAAAA,IAAI,CAAG,CACXC,EAAE,CAAE,KADO,CAEXC,KAAK,CAAET,KAAK,CAACI,kBAAN,CAAyBM,UAFrB,CAAb,CAIAL,QAAQ,CAACT,WAAW,CAACW,IAAD,CAAZ,CAAR,CACD,CACF,CARQ,CAQN,CACDP,KAAK,CAACI,kBAAN,CAAyBE,aADxB,CAEDD,QAFC,CAGDL,KAAK,CAACI,kBAAN,CAAyBM,UAHxB,CARM,CAAT,CAaA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,GAAD,CAAS,CACjC,GAAIA,GAAJ,CAAS,CACP,GAAMH,CAAAA,KAAK,CAAGG,GAAG,CAACC,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAd,CACA,GAAMN,CAAAA,IAAI,CAAG,CACXC,EAAE,CAAE,KADO,CAEXC,KAAK,CAALA,KAFW,CAAb,CAIAJ,QAAQ,CAACT,WAAW,CAACW,IAAD,CAAZ,CAAR,CACD,CACF,CATD,CAUA,mBACE,2BACG,CAACP,KAAK,CAACC,gBAAP,eAA2B,KAAC,MAAD,IAD9B,CAEGD,KAAK,CAACC,gBAAN,eACC,MAAC,SAAD,EAAW,KAAK,CAAE,CAAEa,SAAS,CAAE,KAAb,CAAlB,WACGd,KAAK,CAACG,QAAN,CAAeI,IAAf,CAAoBQ,MAApB,CAA6B,CAA7B,EACCf,KAAK,CAACG,QAAN,CAAeI,IAAf,CAAoBS,GAApB,CAAwB,SAACC,GAAD,CAAMC,CAAN,CAAY,CAClC,mBACE,oCACE,KAAC,UAAD,EAAY,IAAI,CAAED,GAAlB,EADF,CAC4B,GAD5B,GAAUC,CAAV,CADF,CAKD,CAND,CAFJ,CASGlB,KAAK,CAACC,gBAAN,eACC,YAAK,SAAS,CAAC,aAAf,uBACE,KAAC,UAAD,EAAY,IAAI,CAAED,KAAK,CAACG,QAAxB,CAAkC,MAAM,CAAEQ,iBAA1C,EADF,EAVJ,GAHJ,GADF,CAsBD,CAxDD,CAyDA,cAAeb,CAAAA,KAAf","sourcesContent":["import { useEffect } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loader from \"src/Components/UI/Loader/Loader\";\r\nimport Pagination from \"src/Components/UI/Table/Pagination\";\r\nimport { getPostData } from \"src/store/post.slice\";\r\nimport SinglePost from \"./SinglePost/SinglePost\";\r\nconst Posts = () => {\r\n  const mapStateToProps = (state) => {\r\n    return {\r\n      isPostDataLoaded: state.postStore.isPostDataLoaded,\r\n      postData: state.postStore.postData,\r\n      reRunPostComponent: state.postStore.reRunPostComponent,\r\n    };\r\n  };\r\n  const state = useSelector(mapStateToProps);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (state.reRunPostComponent.isDataChanged) {\r\n      const data = {\r\n        id: \"all\",\r\n        param: state.reRunPostComponent.queryParam,\r\n      };\r\n      dispatch(getPostData(data));\r\n    }\r\n  }, [\r\n    state.reRunPostComponent.isDataChanged,\r\n    dispatch,\r\n    state.reRunPostComponent.queryParam,\r\n  ]);\r\n  const pageChangeHandler = (url) => {\r\n    if (url) {\r\n      const param = url.split(\"?\")[1];\r\n      const data = {\r\n        id: \"all\",\r\n        param,\r\n      };\r\n      dispatch(getPostData(data));\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      {!state.isPostDataLoaded && <Loader />}\r\n      {state.isPostDataLoaded && (\r\n        <Container style={{ marginTop: \"10%\" }}>\r\n          {state.postData.data.length > 0 &&\r\n            state.postData.data.map((row, i) => {\r\n              return (\r\n                <div key={i}>\r\n                  <SinglePost data={row} />{\" \"}\r\n                </div>\r\n              );\r\n            })}\r\n          {state.isPostDataLoaded && (\r\n            <div className=\"text-center\">\r\n              <Pagination body={state.postData} change={pageChangeHandler} />\r\n            </div>\r\n          )}\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Posts;\r\n"]},"metadata":{},"sourceType":"module"}