{"ast":null,"code":"import _slicedToArray from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\nkItService\\\\relax-frontend\\\\src\\\\Components\\\\views\\\\Comments\\\\CommentPost\\\\CommentPost.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Pagination from \"src/Components/UI/Table/Pagination\";\nimport { getDate } from \"src/custom-functions\";\nimport { sendGetAdminApi } from \"src/service/appService\";\nimport { getPostCommentData } from \"src/store/comment-slice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar CommentPost = function CommentPost(props) {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      comment = _useState2[0],\n      setComment = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pagination = _useState4[0],\n      setpagination = _useState4[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (props.id) {\n      sendGetAdminApi(\"comments/get-post-comment/\".concat(props.id)).then(function (response) {\n        var data = {\n          data: response.data.data\n        };\n        setComment(response.data.data.data);\n        setpagination(response.data.data);\n      }).catch(function (error) {\n        console.log(error.message);\n      });\n    }\n  }, [props.id]);\n\n  var pageChangeHandler = function pageChangeHandler(url) {\n    var param = url.split(\"?\")[1];\n    sendGetAdminApi(\"comments/get-post-comment/\".concat(props.id, \"?\").concat(param[1])).then(function (response) {\n      var data = {\n        data: response.data.data\n      };\n      setComment(response.data.data.data);\n      setpagination(response.data.data);\n    }).catch(function (error) {\n      console.log(error.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [comment.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-primary font-italic\",\n      children: \"no comment yet for this post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, _this), comment.length > 0 && comment.map(function (row, index) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"font-weight-bolder text-primary\",\n          children: [row.name, \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"font-italic\",\n            children: [\"On \", getDate(row.created_at)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2\",\n          children: row.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, _this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, _this);\n    }), comment && comment.length > 0 && /*#__PURE__*/_jsxDEV(Pagination, {\n      body: pagination,\n      change: pageChangeHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(CommentPost, \"xLzqB1SY45+FNS0Borv9DuXNjco=\", false, function () {\n  return [useDispatch];\n});\n\n_c = CommentPost;\nexport default _c2 = /*#__PURE__*/React.memo(CommentPost);\n/**\r\n * content: \"reerger\"\r\ncreated_at: \"2021-06-21T08:58:49.000000Z\"\r\nid: 51\r\nname: \"Nishanthan\"\r\npost_id: 4\r\nstatus: \"approve\"\r\nupdated_at: \"2021-06-21T08:58:49.000000Z\"\r\n\r\n */\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CommentPost\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/Components/views/Comments/CommentPost/CommentPost.js"],"names":["React","useEffect","useState","useDispatch","Pagination","getDate","sendGetAdminApi","getPostCommentData","CommentPost","props","comment","setComment","pagination","setpagination","dispatch","id","then","response","data","catch","error","console","log","message","pageChangeHandler","url","param","split","length","map","row","index","name","created_at","content","memo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Pagination from \"src/Components/UI/Table/Pagination\";\r\nimport { getDate } from \"src/custom-functions\";\r\nimport { sendGetAdminApi } from \"src/service/appService\";\r\nimport { getPostCommentData } from \"src/store/comment-slice\";\r\nconst CommentPost = (props) => {\r\n  const [comment, setComment] = useState([]);\r\n  const [pagination, setpagination] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (props.id) {\r\n      sendGetAdminApi(`comments/get-post-comment/${props.id}`)\r\n        .then((response) => {\r\n          const data = {\r\n            data: response.data.data,\r\n          };\r\n          setComment(response.data.data.data);\r\n          setpagination(response.data.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n    }\r\n  }, [props.id]);\r\n  const pageChangeHandler = (url) => {\r\n    const param = url.split(\"?\")[1];\r\n    sendGetAdminApi(`comments/get-post-comment/${props.id}?${param[1]}`)\r\n      .then((response) => {\r\n        const data = {\r\n          data: response.data.data,\r\n        };\r\n        setComment(response.data.data.data);\r\n        setpagination(response.data.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <>\r\n      {comment.length === 0 && (\r\n        <span className=\"text-primary font-italic\">\r\n          no comment yet for this post\r\n        </span>\r\n      )}\r\n      {comment.length > 0 &&\r\n        comment.map((row, index) => {\r\n          return (\r\n            <div key={index}>\r\n              <h6 className=\"font-weight-bolder text-primary\">\r\n                {row.name}{\" \"}\r\n                <small className=\"font-italic\">\r\n                  On {getDate(row.created_at)}\r\n                </small>\r\n              </h6>\r\n              <p className=\"mt-2\">{row.content}</p>\r\n            </div>\r\n          );\r\n        })}\r\n      {comment && comment.length > 0 && (\r\n        <Pagination body={pagination} change={pageChangeHandler} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default React.memo(CommentPost);\r\n/**\r\n * content: \"reerger\"\r\ncreated_at: \"2021-06-21T08:58:49.000000Z\"\r\nid: 51\r\nname: \"Nishanthan\"\r\npost_id: 4\r\nstatus: \"approve\"\r\nupdated_at: \"2021-06-21T08:58:49.000000Z\"\r\n\r\n */\r\n"]},"metadata":{},"sourceType":"module"}