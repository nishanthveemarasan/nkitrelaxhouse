{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _defineProperty from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\nkItService\\\\relax-frontend\\\\src\\\\Components\\\\views\\\\Store\\\\Product\\\\EditProduct.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { CButtonToolbar, CCol, CRow } from \"@coreui/react\";\nimport { useSelector } from \"react-redux\";\nimport { Form } from \"react-bootstrap\";\nimport { useHistory } from \"react-router\";\nimport FormInput from \"../UI/FormInput\";\nimport SButtonGroup from \"../UI/SButtonGroup/SButtonGroup\";\nimport SFormSelect from \"../UI/FormSelect\";\nimport SFormTextArea from \"../UI/SFormTextArea\";\nimport CButton from \"src/Components/UI/Button/Button\";\nimport { decimal, offer, required } from \"../UI/validator/Validator\";\nimport classes from \"./Product.module.css\";\nimport { sendGetAdminApi, sendPostAdminApi } from \"src/service/appService\";\nimport SAlert from \"../UI/Alert/Alert\";\nimport { useParams } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar EditProduct = function EditProduct() {\n  _s();\n\n  var _jsxDEV2;\n\n  var history = useHistory();\n  var params = useParams();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState({\n    msg: \"\",\n    status: \"\",\n    show: false\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      alert = _useState4[0],\n      setAlert = _useState4[1];\n\n  var onGoBackHandler = function onGoBackHandler() {\n    history.push(\"/admin/store/item\");\n  };\n\n  var _useState5 = useState({\n    color: [\"black\"],\n    height: [\"46cm\"]\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      change = _useState6[0],\n      setChange = _useState6[1];\n\n  var _useState7 = useState({\n    id: \"\",\n    isDataReceived: false\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      productDetails = _useState8[0],\n      setProductDetails = _useState8[1];\n\n  var _useState9 = useState({\n    name: {\n      value: \"\",\n      valid: false,\n      validators: [required]\n    },\n    price: {\n      value: \"\",\n      offerValue: \"\",\n      valid: false,\n      validators: [required, decimal]\n    },\n    offerPrice: {\n      value: \"\",\n      valid: true,\n      validators: [offer]\n    },\n    color: {\n      value: \"black\",\n      valid: true,\n      validators: [required]\n    },\n    image: {\n      value: \"\",\n      file: \"\",\n      valid: false,\n      src: \"\",\n      validators: [required]\n    },\n    description: {\n      value: \"\",\n      valid: false,\n      validators: [required]\n    },\n    height: {\n      value: \"46cm\",\n      valid: true,\n      validators: [required]\n    },\n    status: {\n      value: \"active\",\n      valid: true,\n      validators: [required]\n    }\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      formData = _useState10[0],\n      setFormData = _useState10[1];\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var id, response, product, color, height;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = params.id;\n            _context.prev = 1;\n            _context.next = 4;\n            return sendGetAdminApi(\"store/get-product-details/\".concat(id));\n\n          case 4:\n            response = _context.sent;\n            product = response.data.data;\n\n            if (product) {\n              color = product.color;\n              height = product.height;\n              setChange(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  color: color.split(\",\"),\n                  height: height.split(\",\")\n                });\n              });\n              setFormData(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  name: _objectSpread(_objectSpread({}, prevState[\"name\"]), {}, {\n                    value: product.name,\n                    valid: true\n                  }),\n                  price: _objectSpread(_objectSpread({}, prevState[\"price\"]), {}, {\n                    value: product.price,\n                    valid: true\n                  }),\n                  offerPrice: _objectSpread(_objectSpread({}, prevState[\"offerPrice\"]), {}, {\n                    value: product.offer_price ? product.offer_price : \"\",\n                    valid: true\n                  }),\n                  image: _objectSpread(_objectSpread({}, prevState[\"image\"]), {}, {\n                    src: product.image_url,\n                    valid: true\n                  }),\n                  description: _objectSpread(_objectSpread({}, prevState[\"description\"]), {}, {\n                    value: product.description,\n                    valid: true\n                  }),\n                  status: _objectSpread(_objectSpread({}, prevState[\"description\"]), {}, {\n                    value: product.status,\n                    valid: true\n                  })\n                });\n              });\n              setProductDetails(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  id: product.id,\n                  isDataReceived: true\n                });\n              });\n            } else {\n              setProductDetails(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  isDataReceived: false\n                });\n              });\n            }\n\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0.response);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 9]]);\n  })), [setFormData, setChange]);\n\n  var onInputChangeHandler = function onInputChangeHandler(event, input) {\n    var value = event.target.value;\n    var url, file;\n\n    if (input === \"color\" || input === \"height\") {\n      var array = change[input].slice();\n\n      if (!array.includes(value)) {\n        array.push(value);\n        setChange(function (prevState) {\n          return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, input, array));\n        });\n      }\n    }\n\n    if (input === \"image\") {\n      url = URL.createObjectURL(event.target.files[0]);\n      file = event.target.files[0];\n      value = event.target.value;\n    }\n\n    setFormData(function (prevState) {\n      var isValid = true;\n\n      var _iterator = _createForOfIteratorHelper(prevState[input].validators),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var validator = _step.value;\n          isValid = isValid && validator(value);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (input === \"image\") {\n        var updatedForm = _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, input, _objectSpread(_objectSpread({}, prevState[input]), {}, {\n          value: value,\n          file: file,\n          src: url,\n          valid: isValid\n        })));\n\n        return updatedForm;\n      } else {\n        var _updatedForm = _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, input, _objectSpread(_objectSpread({}, prevState[input]), {}, {\n          value: value,\n          valid: isValid\n        })));\n\n        return _updatedForm;\n      }\n    });\n  };\n\n  var isFormValid = true;\n\n  for (var input in formData) {\n    isFormValid = isFormValid && formData[input].valid;\n  }\n\n  var onArrayChangeHandler = function onArrayChangeHandler(type, index) {\n    var array = change[type].slice();\n\n    if (array.length !== 1) {\n      array.splice(index, 1);\n      setChange(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, type, array));\n      });\n    }\n  };\n\n  var onSubmitHandler = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var product, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              product = new FormData();\n              product.append(\"id\", productDetails.id);\n              product.append(\"name\", formData.name.value);\n              product.append(\"price\", formData.price.value);\n              product.append(\"offerPrice\", formData.offerPrice.value);\n              product.append(\"color\", change.color);\n              product.append(\"height\", change.height);\n              product.append(\"description\", formData.description.value);\n              product.append(\"status\", formData.status.value);\n\n              if (formData.image.file) {\n                product.append(\"file\", formData.image.file);\n              } else {\n                product.append(\"image\", formData.image.src);\n              }\n\n              _context2.prev = 11;\n              setLoading(true);\n              _context2.next = 15;\n              return sendPostAdminApi(\"store/update-product\", product);\n\n            case 15:\n              response = _context2.sent;\n              setAlert(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  msg: response.data.data.msg,\n                  status: \"success\",\n                  show: true\n                });\n              });\n              setLoading(false);\n              _context2.next = 23;\n              break;\n\n            case 20:\n              _context2.prev = 20;\n              _context2.t0 = _context2[\"catch\"](11);\n              console.log(_context2.t0.response);\n\n            case 23:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[11, 20]]);\n    }));\n\n    return function onSubmitHandler(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var closeAlertHandler = function closeAlertHandler() {\n    setAlert(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        msg: \"\",\n        status: \"\",\n        show: false\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [productDetails, productDetails.isDataReceived && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right mb-3\",\n        children: /*#__PURE__*/_jsxDEV(CButton, {\n          name: \"GO BACK\",\n          color: \"dark\",\n          click: onGoBackHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, _this), alert.show && /*#__PURE__*/_jsxDEV(SAlert, {\n        color: alert.status,\n        msg: alert.msg,\n        close: closeAlertHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: onSubmitHandler,\n        children: /*#__PURE__*/_jsxDEV(CRow, {\n          children: [/*#__PURE__*/_jsxDEV(CCol, {\n            md: 6,\n            sm: 12,\n            children: [/*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                md: 8,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormInput, {\n                  md: 12,\n                  sm: 12,\n                  label: \"Product Name\",\n                  id: \"name\",\n                  type: \"text\",\n                  readOnly: false,\n                  value: formData.name.value,\n                  change: onInputChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: [/*#__PURE__*/_jsxDEV(CCol, {\n                md: 4,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormInput, {\n                  md: 12,\n                  sm: 12,\n                  label: \"Price($)\",\n                  id: \"price\",\n                  type: \"text\",\n                  readOnly: false,\n                  value: formData.price.value,\n                  change: onInputChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n                md: 4,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormInput, {\n                  md: 12,\n                  sm: 12,\n                  label: \"Offer Price($)\",\n                  id: \"offerPrice\",\n                  type: \"text\",\n                  placeHolder: \"$0.00\",\n                  readOnly: false,\n                  value: formData.offerPrice.value,\n                  change: onInputChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                className: \"mr-1\",\n                children: /*#__PURE__*/_jsxDEV(FormInput, {\n                  md: 12,\n                  sm: 12,\n                  label: \"Product Image\",\n                  id: \"image\",\n                  type: \"file\",\n                  readOnly: false,\n                  value: formData.image.value,\n                  change: onInputChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                className: \"ml-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2\",\n                  children: \"Product Color\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, _this), change.color.length > 0 && /*#__PURE__*/_jsxDEV(CButtonToolbar, {\n                  children: change.color.map(function (el, i) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: /*#__PURE__*/_jsxDEV(SButtonGroup, {\n                        color: el,\n                        control: true,\n                        input: \"color\",\n                        index: i,\n                        click: onArrayChangeHandler\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 31\n                      }, _this)\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 29\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"inline-block\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(SFormSelect, {\n                    md: 4,\n                    sm: 12,\n                    label: false,\n                    id: \"color\",\n                    options: [\"black\", \"white\", \"walnet\", \"Natural\"],\n                    change: onInputChangeHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                className: \"ml-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2\",\n                  children: \"Product Height\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, _this), change.height.length > 0 && /*#__PURE__*/_jsxDEV(CButtonToolbar, {\n                  children: change.height.map(function (el, i) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-2\",\n                      children: /*#__PURE__*/_jsxDEV(SButtonGroup, {\n                        color: el,\n                        control: true,\n                        input: \"height\",\n                        index: i,\n                        click: onArrayChangeHandler\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 31\n                      }, _this)\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 29\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"inline-block\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(SFormSelect, {\n                    md: 12,\n                    sm: 12,\n                    label: false,\n                    id: \"height\",\n                    options: [\"46cm\", \"68cm\", \"74cm\"],\n                    change: onInputChangeHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                children: /*#__PURE__*/_jsxDEV(SFormTextArea, {\n                  rows: \"5\",\n                  labelName: \"Product Description\",\n                  id: \"description\",\n                  type: \"textarea\",\n                  readOnly: false,\n                  value: formData.description.value,\n                  change: onInputChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              className: \"ml-1\",\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                md: 4,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(SFormSelect, {\n                  md: 12,\n                  sm: 12,\n                  label: \"Product Status\",\n                  id: \"status\",\n                  options: [\"draft\", \"active\"],\n                  value: formData.status.value,\n                  change: onInputChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                className: \"ml-3\",\n                children: /*#__PURE__*/_jsxDEV(CButton, (_jsxDEV2 = {\n                  color: \"success\",\n                  width: \"30%\",\n                  type: \"submit\",\n                  name: \"Save Product\",\n                  block: false\n                }, _defineProperty(_jsxDEV2, \"width\", \"30%\"), _defineProperty(_jsxDEV2, \"loading\", loading), _defineProperty(_jsxDEV2, \"disabled\", isFormValid ? false : true), _jsxDEV2), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n            md: 6,\n            sm: 12,\n            className: \"d-flex\",\n            children: /*#__PURE__*/_jsxDEV(CCol, {\n              xs: 4,\n              sm: 3,\n              md: 4,\n              lg: 4,\n              xl: 4,\n              className: \"mx-auto my-auto\",\n              children: formData.image.src && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: formData.image.src,\n                className: classes.productImage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(EditProduct, \"nbyebXqus+4fInpJJ2nuj9FbZSA=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditProduct;\nexport default EditProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/Components/views/Store/Product/EditProduct.js"],"names":["useState","useEffect","CButtonToolbar","CCol","CRow","useSelector","Form","useHistory","FormInput","SButtonGroup","SFormSelect","SFormTextArea","CButton","decimal","offer","required","classes","sendGetAdminApi","sendPostAdminApi","SAlert","useParams","EditProduct","history","params","loading","setLoading","msg","status","show","alert","setAlert","onGoBackHandler","push","color","height","change","setChange","id","isDataReceived","productDetails","setProductDetails","name","value","valid","validators","price","offerValue","offerPrice","image","file","src","description","formData","setFormData","response","product","data","prevState","split","offer_price","image_url","console","log","onInputChangeHandler","event","input","target","url","array","slice","includes","URL","createObjectURL","files","isValid","validator","updatedForm","isFormValid","onArrayChangeHandler","type","index","length","splice","onSubmitHandler","e","preventDefault","FormData","append","closeAlertHandler","map","el","i","display","productImage"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { CButtonToolbar, CCol, CRow } from \"@coreui/react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router\";\r\nimport FormInput from \"../UI/FormInput\";\r\nimport SButtonGroup from \"../UI/SButtonGroup/SButtonGroup\";\r\nimport SFormSelect from \"../UI/FormSelect\";\r\nimport SFormTextArea from \"../UI/SFormTextArea\";\r\nimport CButton from \"src/Components/UI/Button/Button\";\r\nimport { decimal, offer, required } from \"../UI/validator/Validator\";\r\nimport classes from \"./Product.module.css\";\r\nimport { sendGetAdminApi, sendPostAdminApi } from \"src/service/appService\";\r\nimport SAlert from \"../UI/Alert/Alert\";\r\nimport { useParams } from \"react-router\";\r\nconst EditProduct = () => {\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const [loading, setLoading] = useState(false);\r\n  const [alert, setAlert] = useState({\r\n    msg: \"\",\r\n    status: \"\",\r\n    show: false,\r\n  });\r\n  const onGoBackHandler = () => {\r\n    history.push(\"/admin/store/item\");\r\n  };\r\n  const [change, setChange] = useState({\r\n    color: [\"black\"],\r\n    height: [\"46cm\"],\r\n  });\r\n  const [productDetails, setProductDetails] = useState({\r\n    id: \"\",\r\n    isDataReceived: false,\r\n  });\r\n  const [formData, setFormData] = useState({\r\n    name: {\r\n      value: \"\",\r\n      valid: false,\r\n      validators: [required],\r\n    },\r\n    price: {\r\n      value: \"\",\r\n      offerValue: \"\",\r\n      valid: false,\r\n      validators: [required, decimal],\r\n    },\r\n    offerPrice: {\r\n      value: \"\",\r\n      valid: true,\r\n      validators: [offer],\r\n    },\r\n    color: {\r\n      value: \"black\",\r\n      valid: true,\r\n      validators: [required],\r\n    },\r\n    image: {\r\n      value: \"\",\r\n      file: \"\",\r\n      valid: false,\r\n      src: \"\",\r\n      validators: [required],\r\n    },\r\n    description: {\r\n      value: \"\",\r\n      valid: false,\r\n      validators: [required],\r\n    },\r\n    height: { value: \"46cm\", valid: true, validators: [required] },\r\n    status: { value: \"active\", valid: true, validators: [required] },\r\n  });\r\n\r\n  useEffect(async () => {\r\n    const id = params.id;\r\n    try {\r\n      const response = await sendGetAdminApi(`store/get-product-details/${id}`);\r\n      const product = response.data.data;\r\n      if (product) {\r\n        const color = product.color;\r\n        const height = product.height;\r\n        setChange((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            color: color.split(\",\"),\r\n            height: height.split(\",\"),\r\n          };\r\n        });\r\n        setFormData((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            name: {\r\n              ...prevState[\"name\"],\r\n              value: product.name,\r\n              valid: true,\r\n            },\r\n            price: {\r\n              ...prevState[\"price\"],\r\n              value: product.price,\r\n              valid: true,\r\n            },\r\n            offerPrice: {\r\n              ...prevState[\"offerPrice\"],\r\n              value: product.offer_price ? product.offer_price : \"\",\r\n              valid: true,\r\n            },\r\n            image: {\r\n              ...prevState[\"image\"],\r\n              src: product.image_url,\r\n              valid: true,\r\n            },\r\n            description: {\r\n              ...prevState[\"description\"],\r\n              value: product.description,\r\n              valid: true,\r\n            },\r\n            status: {\r\n              ...prevState[\"description\"],\r\n              value: product.status,\r\n              valid: true,\r\n            },\r\n          };\r\n        });\r\n\r\n        setProductDetails((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            id: product.id,\r\n            isDataReceived: true,\r\n          };\r\n        });\r\n      } else {\r\n        setProductDetails((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            isDataReceived: false,\r\n          };\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error.response);\r\n    }\r\n  }, [setFormData, setChange]);\r\n\r\n  const onInputChangeHandler = (event, input) => {\r\n    let value = event.target.value;\r\n    let url, file;\r\n    if (input === \"color\" || input === \"height\") {\r\n      let array = change[input].slice();\r\n      if (!array.includes(value)) {\r\n        array.push(value);\r\n        setChange((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            [input]: array,\r\n          };\r\n        });\r\n      }\r\n    }\r\n    if (input === \"image\") {\r\n      url = URL.createObjectURL(event.target.files[0]);\r\n      file = event.target.files[0];\r\n      value = event.target.value;\r\n    }\r\n    setFormData((prevState) => {\r\n      let isValid = true;\r\n      for (const validator of prevState[input].validators) {\r\n        isValid = isValid && validator(value);\r\n      }\r\n      if (input === \"image\") {\r\n        const updatedForm = {\r\n          ...prevState,\r\n          [input]: {\r\n            ...prevState[input],\r\n            value: value,\r\n            file: file,\r\n            src: url,\r\n            valid: isValid,\r\n          },\r\n        };\r\n        return updatedForm;\r\n      } else {\r\n        const updatedForm = {\r\n          ...prevState,\r\n          [input]: {\r\n            ...prevState[input],\r\n            value: value,\r\n            valid: isValid,\r\n          },\r\n        };\r\n        return updatedForm;\r\n      }\r\n    });\r\n  };\r\n  let isFormValid = true;\r\n  for (const input in formData) {\r\n    isFormValid = isFormValid && formData[input].valid;\r\n  }\r\n  const onArrayChangeHandler = (type, index) => {\r\n    let array = change[type].slice();\r\n    if (array.length !== 1) {\r\n      array.splice(index, 1);\r\n      setChange((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          [type]: array,\r\n        };\r\n      });\r\n    }\r\n  };\r\n  const onSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    var product = new FormData();\r\n    product.append(\"id\", productDetails.id);\r\n    product.append(\"name\", formData.name.value);\r\n    product.append(\"price\", formData.price.value);\r\n    product.append(\"offerPrice\", formData.offerPrice.value);\r\n    product.append(\"color\", change.color);\r\n    product.append(\"height\", change.height);\r\n    product.append(\"description\", formData.description.value);\r\n    product.append(\"status\", formData.status.value);\r\n    if (formData.image.file) {\r\n      product.append(\"file\", formData.image.file);\r\n    } else {\r\n      product.append(\"image\", formData.image.src);\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      const response = await sendPostAdminApi(\"store/update-product\", product);\r\n      setAlert((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          msg: response.data.data.msg,\r\n          status: \"success\",\r\n          show: true,\r\n        };\r\n      });\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error.response);\r\n    }\r\n  };\r\n  const closeAlertHandler = () => {\r\n    setAlert((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        msg: \"\",\r\n        status: \"\",\r\n        show: false,\r\n      };\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n    {productDetails}\r\n      {productDetails.isDataReceived && (\r\n        <>\r\n          <div className=\"text-right mb-3\">\r\n            <CButton name=\"GO BACK\" color=\"dark\" click={onGoBackHandler} />\r\n          </div>\r\n          {alert.show && (\r\n            <SAlert\r\n              color={alert.status}\r\n              msg={alert.msg}\r\n              close={closeAlertHandler}\r\n            />\r\n          )}\r\n          <Form onSubmit={onSubmitHandler}>\r\n            <CRow>\r\n              <CCol md={6} sm={12}>\r\n                <CRow>\r\n                  <CCol md={8} sm={12}>\r\n                    <FormInput\r\n                      md={12}\r\n                      sm={12}\r\n                      label=\"Product Name\"\r\n                      id=\"name\"\r\n                      type=\"text\"\r\n                      readOnly={false}\r\n                      value={formData.name.value}\r\n                      change={onInputChangeHandler}\r\n                    />\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol md={4} sm={12}>\r\n                    <FormInput\r\n                      md={12}\r\n                      sm={12}\r\n                      label=\"Price($)\"\r\n                      id=\"price\"\r\n                      type=\"text\"\r\n                      readOnly={false}\r\n                      value={formData.price.value}\r\n                      change={onInputChangeHandler}\r\n                    />\r\n                  </CCol>\r\n                  <CCol md={4} sm={12}>\r\n                    <FormInput\r\n                      md={12}\r\n                      sm={12}\r\n                      label=\"Offer Price($)\"\r\n                      id=\"offerPrice\"\r\n                      type=\"text\"\r\n                      placeHolder=\"$0.00\"\r\n                      readOnly={false}\r\n                      value={formData.offerPrice.value}\r\n                      change={onInputChangeHandler}\r\n                    />\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol className=\"mr-1\">\r\n                    <FormInput\r\n                      md={12}\r\n                      sm={12}\r\n                      label=\"Product Image\"\r\n                      id=\"image\"\r\n                      type=\"file\"\r\n                      readOnly={false}\r\n                      value={formData.image.value}\r\n                      change={onInputChangeHandler}\r\n                    />\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol className=\"ml-3\">\r\n                    <div className=\"mb-2\">Product Color</div>\r\n                    {change.color.length > 0 && (\r\n                      <CButtonToolbar>\r\n                        {change.color.map((el, i) => {\r\n                          return (\r\n                            <div className=\"mb-2\" key={i}>\r\n                              <SButtonGroup\r\n                                color={el}\r\n                                control={true}\r\n                                input=\"color\"\r\n                                index={i}\r\n                                click={onArrayChangeHandler}\r\n                              />\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </CButtonToolbar>\r\n                    )}\r\n\r\n                    <div style={{ display: \"inline-block\" }}>\r\n                      <SFormSelect\r\n                        md={4}\r\n                        sm={12}\r\n                        label={false}\r\n                        id=\"color\"\r\n                        options={[\"black\", \"white\", \"walnet\", \"Natural\"]}\r\n                        change={onInputChangeHandler}\r\n                      />\r\n                    </div>\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol className=\"ml-3\">\r\n                    <div className=\"mb-2\">Product Height</div>\r\n                    {change.height.length > 0 && (\r\n                      <CButtonToolbar>\r\n                        {change.height.map((el, i) => {\r\n                          return (\r\n                            <div className=\"mb-2\" key={i}>\r\n                              <SButtonGroup\r\n                                color={el}\r\n                                control={true}\r\n                                input=\"height\"\r\n                                index={i}\r\n                                click={onArrayChangeHandler}\r\n                              />\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </CButtonToolbar>\r\n                    )}\r\n                    <div style={{ display: \"inline-block\" }}>\r\n                      <SFormSelect\r\n                        md={12}\r\n                        sm={12}\r\n                        label={false}\r\n                        id=\"height\"\r\n                        options={[\"46cm\", \"68cm\", \"74cm\"]}\r\n                        change={onInputChangeHandler}\r\n                      />\r\n                    </div>\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol>\r\n                    <SFormTextArea\r\n                      rows=\"5\"\r\n                      labelName=\"Product Description\"\r\n                      id=\"description\"\r\n                      type=\"textarea\"\r\n                      readOnly={false}\r\n                      value={formData.description.value}\r\n                      change={onInputChangeHandler}\r\n                    ></SFormTextArea>\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow className=\"ml-1\">\r\n                  <CCol md={4} sm={12}>\r\n                    <SFormSelect\r\n                      md={12}\r\n                      sm={12}\r\n                      label=\"Product Status\"\r\n                      id=\"status\"\r\n                      options={[\"draft\", \"active\"]}\r\n                      value={formData.status.value}\r\n                      change={onInputChangeHandler}\r\n                    />\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol className=\"ml-3\">\r\n                    <CButton\r\n                      color=\"success\"\r\n                      width=\"30%\"\r\n                      type=\"submit\"\r\n                      name=\"Save Product\"\r\n                      block={false}\r\n                      width=\"30%\"\r\n                      loading={loading}\r\n                      disabled={isFormValid ? false : true}\r\n                    />\r\n                  </CCol>\r\n                </CRow>\r\n              </CCol>\r\n              <CCol md={6} sm={12} className=\"d-flex\">\r\n                <CCol\r\n                  xs={4}\r\n                  sm={3}\r\n                  md={4}\r\n                  lg={4}\r\n                  xl={4}\r\n                  className=\"mx-auto my-auto\"\r\n                >\r\n                  {formData.image.src && (\r\n                    <img\r\n                      src={formData.image.src}\r\n                      className={classes.productImage}\r\n                    />\r\n                  )}\r\n                </CCol>\r\n              </CCol>\r\n            </CRow>\r\n          </Form>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default EditProduct;\r\n"]},"metadata":{},"sourceType":"module"}