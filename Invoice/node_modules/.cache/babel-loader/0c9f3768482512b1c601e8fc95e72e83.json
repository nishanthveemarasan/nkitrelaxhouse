{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{createSlice}from\"@reduxjs/toolkit\";import API from\"src/axios/axios\";import{sendGetAdminApi,sendPostAdminApi}from\"src/service/appService\";import{getUrl}from\"src/service/customService\";import{userStoreAction}from\"./store\";var initialState={isUserDataLoaded:false,userData:[],reRunComponent:{isDataChanged:true,queryParam:\"\",postId:\"all\"},userModalData:{userRoles:[\"Admin\",\"User\"],userId:0,actionType:\"\",isModalOpen:false,modalHeading:\"\",modalAction:\"\",variant:\"\",userRole:\"\",userStatus:\"\"},updateUserData:{isLoading:false,isDataUpdated:false,msg:\"\",color:\"\"}};var userSlice=createSlice({name:\"users\",initialState:initialState,reducers:{getData:function getData(state,action){state.isUserDataLoaded=true;state.userData=action.payload.user;},updateUserId:function updateUserId(state,action){state.reRunComponent=_objectSpread(_objectSpread({},state.reRunComponent),{},{postId:action.payload.userId});console.log(state.reRunComponent);},updateParam:function updateParam(state,action){state.reRunComponent=_objectSpread(_objectSpread({},state.reRunComponent),{},{queryParam:action.payload.param});},openUserModal:function openUserModal(state,action){state.userModalData=_objectSpread(_objectSpread({},state.userModalData),{},{isModalOpen:true,userId:action.payload.id,userRole:action.payload.userRole,userStatus:action.payload.userStatus,actionType:action.payload.actionType,modalHeading:action.payload.heading,variant:action.payload.variant,modalAction:action.payload.modalAction});},updatingData:function updatingData(state){state.updateUserData=_objectSpread(_objectSpread({},state.updateUserData),{},{isLoading:true,isDataUpdated:false});state.reRunComponent=_objectSpread(_objectSpread({},state.reRunComponent),{},{isDataChanged:false});},dataUpdated:function dataUpdated(state,action){state.reRunComponent=_objectSpread(_objectSpread({},state.reRunComponent),{},{isDataChanged:true});state.updateUserData={isLoading:false,isDataUpdated:true,msg:action.payload.msg,color:action.payload.color};},closeModal:function closeModal(state){state.userModalData={userRoles:[\"Admin\",\"User\"],userId:0,actionType:\"\",isModalOpen:false,modalHeading:\"\",modalAction:\"\",variant:\"\",userRole:\"\",userStatus:\"\"};state.updateUserData={isLoading:false,isDataUpdated:false,msg:\"\",color:\"\"};}}});export default userSlice;export var getUserData=function getUserData(data){return function(dispatch){var url=getUrl(\"users/get-users\",data.param);sendGetAdminApi(url).then(function(response){if(response.data.http_status===200){dispatch(userStoreAction.getData({user:response.data.data}));}}).catch(function(error){console.log(error.message);});};};export var getUserModalData=function getUserModalData(data){return function(dispatch){var button=data.userStatus===\"1\"?\"Disable\":\"Enable\";dispatch(userStoreAction.openUserModal({id:data.id,actionType:data.action,userRole:data.userRole,userStatus:data.userStatus,modalAction:data.action===\"assign\"?\"Assign Role\":button,heading:data.action===\"assign\"?\"Assign Role to the User\":\"Enable/Disable the User\",variant:data.action===\"assign\"?\"primary\":\"danger\"}));};};export var editUserRole=function editUserRole(data){return function(dispatch){dispatch(userStoreAction.updatingData());sendPostAdminApi(\"users/edit-user-role\",data).then(function(response){dispatch(userStoreAction.dataUpdated({msg:response.data.data.msg,color:\"success\"}));}).catch(function(error){console.log(error.response);});};};export var disableUser=function disableUser(data){return function(dispatch){dispatch(userStoreAction.updatingData());sendPostAdminApi(\"users/disable-a-user\",data).then(function(response){dispatch(userStoreAction.dataUpdated({msg:response.data.data.msg,color:\"success\"}));}).catch(function(error){console.log(error.response);});};};export var closeUserModal=function closeUserModal(){return function(dispatch){dispatch(userStoreAction.closeModal());};};","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/store/user-slice.js"],"names":["createSlice","API","sendGetAdminApi","sendPostAdminApi","getUrl","userStoreAction","initialState","isUserDataLoaded","userData","reRunComponent","isDataChanged","queryParam","postId","userModalData","userRoles","userId","actionType","isModalOpen","modalHeading","modalAction","variant","userRole","userStatus","updateUserData","isLoading","isDataUpdated","msg","color","userSlice","name","reducers","getData","state","action","payload","user","updateUserId","console","log","updateParam","param","openUserModal","id","heading","updatingData","dataUpdated","closeModal","getUserData","data","dispatch","url","then","response","http_status","catch","error","message","getUserModalData","button","editUserRole","disableUser","closeUserModal"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport API from \"src/axios/axios\";\r\nimport { sendGetAdminApi, sendPostAdminApi } from \"src/service/appService\";\r\nimport { getUrl } from \"src/service/customService\";\r\nimport { userStoreAction } from \"./store\";\r\n\r\nconst initialState = {\r\n  isUserDataLoaded: false,\r\n  userData: [],\r\n  reRunComponent: {\r\n    isDataChanged: true,\r\n    queryParam: \"\",\r\n    postId: \"all\",\r\n  },\r\n  userModalData: {\r\n    userRoles: [\"Admin\", \"User\"],\r\n    userId: 0,\r\n    actionType: \"\",\r\n    isModalOpen: false,\r\n    modalHeading: \"\",\r\n    modalAction: \"\",\r\n    variant: \"\",\r\n    userRole: \"\",\r\n    userStatus: \"\",\r\n  },\r\n  updateUserData: {\r\n    isLoading: false,\r\n    isDataUpdated: false,\r\n    msg: \"\",\r\n    color: \"\",\r\n  },\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: \"users\",\r\n  initialState,\r\n  reducers: {\r\n    getData(state, action) {\r\n      state.isUserDataLoaded = true;\r\n      state.userData = action.payload.user;\r\n    },\r\n    updateUserId(state, action) {\r\n      state.reRunComponent = {\r\n        ...state.reRunComponent,\r\n        postId: action.payload.userId,\r\n      };\r\n      console.log(state.reRunComponent);\r\n    },\r\n    updateParam(state, action) {\r\n      state.reRunComponent = {\r\n        ...state.reRunComponent,\r\n        queryParam: action.payload.param,\r\n      };\r\n    },\r\n    openUserModal(state, action) {\r\n      state.userModalData = {\r\n        ...state.userModalData,\r\n        isModalOpen: true,\r\n        userId: action.payload.id,\r\n        userRole: action.payload.userRole,\r\n        userStatus: action.payload.userStatus,\r\n        actionType: action.payload.actionType,\r\n        modalHeading: action.payload.heading,\r\n        variant: action.payload.variant,\r\n        modalAction: action.payload.modalAction,\r\n      };\r\n    },\r\n    updatingData(state) {\r\n      state.updateUserData = {\r\n        ...state.updateUserData,\r\n        isLoading: true,\r\n        isDataUpdated: false,\r\n      };\r\n      state.reRunComponent = {\r\n        ...state.reRunComponent,\r\n        isDataChanged: false,\r\n      };\r\n    },\r\n    dataUpdated(state, action) {\r\n      state.reRunComponent = {\r\n        ...state.reRunComponent,\r\n        isDataChanged: true,\r\n      };\r\n      state.updateUserData = {\r\n        isLoading: false,\r\n        isDataUpdated: true,\r\n        msg: action.payload.msg,\r\n        color: action.payload.color,\r\n      };\r\n    },\r\n    closeModal(state) {\r\n      state.userModalData = {\r\n        userRoles: [\"Admin\", \"User\"],\r\n        userId: 0,\r\n        actionType: \"\",\r\n        isModalOpen: false,\r\n        modalHeading: \"\",\r\n        modalAction: \"\",\r\n        variant: \"\",\r\n        userRole: \"\",\r\n        userStatus: \"\",\r\n      };\r\n      state.updateUserData = {\r\n        isLoading: false,\r\n        isDataUpdated: false,\r\n        msg: \"\",\r\n        color: \"\",\r\n      };\r\n    },\r\n  },\r\n});\r\nexport default userSlice;\r\n\r\nexport const getUserData = (data) => {\r\n  return (dispatch) => {\r\n    const url = getUrl(\"users/get-users\", data.param);\r\n    sendGetAdminApi(url)\r\n      .then((response) => {\r\n        if (response.data.http_status === 200) {\r\n          dispatch(userStoreAction.getData({ user: response.data.data }));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n      });\r\n  };\r\n};\r\n\r\nexport const getUserModalData = (data) => {\r\n  return (dispatch) => {\r\n    const button = data.userStatus === \"1\" ? \"Disable\" : \"Enable\";\r\n    dispatch(\r\n      userStoreAction.openUserModal({\r\n        id: data.id,\r\n        actionType: data.action,\r\n        userRole: data.userRole,\r\n        userStatus: data.userStatus,\r\n        modalAction: data.action === \"assign\" ? \"Assign Role\" : button,\r\n        heading:\r\n          data.action === \"assign\"\r\n            ? \"Assign Role to the User\"\r\n            : \"Enable/Disable the User\",\r\n        variant: data.action === \"assign\" ? \"primary\" : \"danger\",\r\n      })\r\n    );\r\n  };\r\n};\r\n\r\nexport const editUserRole = (data) => {\r\n  return (dispatch) => {\r\n    dispatch(userStoreAction.updatingData());\r\n    sendPostAdminApi(\"users/edit-user-role\", data)\r\n      .then((response) => {\r\n        dispatch(\r\n          userStoreAction.dataUpdated({\r\n            msg: response.data.data.msg,\r\n            color: \"success\",\r\n          })\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n  };\r\n};\r\n\r\nexport const disableUser = (data) => {\r\n  return (dispatch) => {\r\n    dispatch(userStoreAction.updatingData());\r\n    sendPostAdminApi(\"users/disable-a-user\", data)\r\n      .then((response) => {\r\n        dispatch(\r\n          userStoreAction.dataUpdated({\r\n            msg: response.data.data.msg,\r\n            color: \"success\",\r\n          })\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n  };\r\n};\r\n\r\nexport const closeUserModal = () => {\r\n  return (dispatch) => {\r\n    dispatch(userStoreAction.closeModal());\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}