{"ast":null,"code":"import _regeneratorRuntime from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\nkItService\\\\relax-frontend\\\\src\\\\Components\\\\views\\\\Store\\\\Order\\\\EditOrder\\\\EditOrder.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { CCol, CContainer, CRow } from \"@coreui/react\";\nimport { useSelector } from \"react-redux\";\nimport classes from \"./EditOrder.module.css\";\nimport { getDate } from \"src/custom-functions\";\nimport DetailItem from \"../UI/DetailItem\";\nimport DetailBox from \"../UI/DetailBox\";\nimport OrderDetails from \"../UI/OrderDetails/OrderDetails\";\nimport OrderSummary from \"../OrderSummary/OrderSummary\";\nimport CButton from \"src/Components/UI/Button/Button\";\nimport FormSelect from \"src/Components/UI/Input/FormSelect\";\nimport { Form } from \"react-bootstrap\";\nimport { sendPostAdminApi } from \"src/service/appService\";\nimport SAlert from \"../../UI/Alert/Alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar EditOrder = function EditOrder() {\n  _s();\n\n  var mapStateToProps = function mapStateToProps(state) {\n    return {\n      data: state.shopStore.singleOrderData.data\n    };\n  };\n\n  var state = useSelector(mapStateToProps);\n\n  var _useState = useState({\n    value: \"\",\n    touched: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      orderStatus = _useState2[0],\n      setOrderStatus = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState({\n    show: false,\n    msg: \"\",\n    color: \"\"\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      status = _useState6[0],\n      setStatus = _useState6[1];\n\n  useEffect(function () {\n    if (state.data) {\n      setOrderStatus(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          value: state.data.delivery_status\n        });\n      });\n    }\n  }, [state.data]);\n\n  var onStatusChangeHandler = function onStatusChangeHandler(e) {\n    var value = e.target.value;\n    setOrderStatus(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        value: value,\n        touched: true\n      });\n    });\n  };\n\n  var onStatusSubmitHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var data, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              data = {\n                id: state.data.id,\n                delivery_status: orderStatus.value\n              };\n              setLoading(false);\n              _context.prev = 3;\n              _context.next = 6;\n              return sendPostAdminApi(\"store/update-order-status\", data);\n\n            case 6:\n              response = _context.sent;\n              setStatus(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  msg: response.data.data.msg,\n                  color: \"success\",\n                  show: true\n                });\n              });\n              setOrderStatus(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  touched: false\n                });\n              });\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n              setStatus(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  msg: _context.t0.response.error,\n                  color: \"danger\",\n                  show: true\n                });\n              });\n\n            case 14:\n              setLoading(true);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 11]]);\n    }));\n\n    return function onStatusSubmitHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var closeAlertHandler = function closeAlertHandler() {\n    setStatus(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        msg: \"\",\n        color: \"\",\n        show: false\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!state.data && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"No Data Found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }, _this), state.data && /*#__PURE__*/_jsxDEV(CContainer, {\n      children: /*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(CCol, {\n          md: 8,\n          sm: 12,\n          style: {\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.orderDetails,\n            children: /*#__PURE__*/_jsxDEV(OrderDetails, {\n              data: state.data.order_details\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.summary,\n            children: /*#__PURE__*/_jsxDEV(OrderSummary, {\n              total: state.data.amount,\n              orderDetails: state.data.order_details\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n          md: 4,\n          sm: 12,\n          style: {\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.lineBreak,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Order Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.note,\n              children: [status.show && /*#__PURE__*/_jsxDEV(SAlert, {\n                color: status.color,\n                msg: status.msg,\n                close: closeAlertHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: onStatusSubmitHandler,\n                children: [/*#__PURE__*/_jsxDEV(FormSelect, {\n                  label: false,\n                  options: [\"Processing\", \"Packed\", \"Delivered\"],\n                  value: orderStatus.value,\n                  change: onStatusChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(CButton, {\n                  control: false,\n                  block: true,\n                  type: \"submit\",\n                  color: \"primary\",\n                  name: \"Save\",\n                  disabled: !orderStatus.touched,\n                  loading: !loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.lineBreak,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Customer Node\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.note,\n              children: state.data.note ? state.data.note : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No Notes from Customer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Customer Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(DetailBox, {\n              mainClass: classes.customerInfo,\n              headingClass: classes.heading,\n              heading: \"Customer Name\",\n              children: /*#__PURE__*/_jsxDEV(DetailItem, {\n                class: classes.font,\n                value: \"\".concat(state.data.customer_details.firstName, \" \").concat(state.data.customer_details.lastName)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(DetailBox, {\n            mainClass: classes.contactInfo,\n            headingClass: classes.heading,\n            heading: \"Contact Information\",\n            children: [/*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"\".concat(state.data.customer_details.email)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"\".concat(state.data.customer_details.phone)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(DetailBox, {\n            mainClass: classes.contactInfo,\n            headingClass: classes.heading,\n            heading: \"Billing Address\",\n            children: [/*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"\".concat(state.data.customer_details.lineOne)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"\".concat(state.data.customer_details.town)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"\".concat(state.data.customer_details.zip, \" \").concat(state.data.customer_details.state)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"\".concat(state.data.customer_details.country)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(DetailBox, {\n            mainClass: classes.contactInfo,\n            headingClass: classes.heading,\n            heading: \"Shipping Address\",\n            children: [state.data.created_at, /*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"Same as Billing Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(DetailBox, {\n            mainClass: classes.contactInfo,\n            headingClass: classes.heading,\n            heading: \"Order Creation Date\",\n            children: /*#__PURE__*/_jsxDEV(DetailItem, {\n              class: classes.font,\n              value: \"\".concat(getDate(state.data.created_at))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(EditOrder, \"sEsl4fzPQO88iTc6DYWLz8QWZpM=\", false, function () {\n  return [useSelector];\n});\n\n_c = EditOrder;\nexport default EditOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditOrder\");","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/Components/views/Store/Order/EditOrder/EditOrder.js"],"names":["useState","useEffect","CCol","CContainer","CRow","useSelector","classes","getDate","DetailItem","DetailBox","OrderDetails","OrderSummary","CButton","FormSelect","Form","sendPostAdminApi","SAlert","EditOrder","mapStateToProps","state","data","shopStore","singleOrderData","value","touched","orderStatus","setOrderStatus","loading","setLoading","show","msg","color","status","setStatus","prevState","delivery_status","onStatusChangeHandler","e","target","onStatusSubmitHandler","preventDefault","id","response","error","closeAlertHandler","width","orderDetails","order_details","summary","amount","lineBreak","note","customerInfo","heading","font","customer_details","firstName","lastName","contactInfo","email","phone","lineOne","town","zip","country","created_at"],"mappings":";;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,IAA3B,QAAuC,eAAvC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA;;AACtB,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,WAAO;AACLC,MAAAA,IAAI,EAAED,KAAK,CAACE,SAAN,CAAgBC,eAAhB,CAAgCF;AADjC,KAAP;AAGD,GAJD;;AAKA,MAAMD,KAAK,GAAGd,WAAW,CAACa,eAAD,CAAzB;;AACA,kBAAsClB,QAAQ,CAAC;AAAEuB,IAAAA,KAAK,EAAE,EAAT;AAAaC,IAAAA,OAAO,EAAE;AAAtB,GAAD,CAA9C;AAAA;AAAA,MAAOC,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAA8B1B,QAAQ,CAAC,IAAD,CAAtC;AAAA;AAAA,MAAO2B,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAA4B5B,QAAQ,CAAC;AACnC6B,IAAAA,IAAI,EAAE,KAD6B;AAEnCC,IAAAA,GAAG,EAAE,EAF8B;AAGnCC,IAAAA,KAAK,EAAE;AAH4B,GAAD,CAApC;AAAA;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AAKAhC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIkB,KAAK,CAACC,IAAV,EAAgB;AACdM,MAAAA,cAAc,CAAC,UAACQ,SAAD,EAAe;AAC5B,+CACKA,SADL;AAEEX,UAAAA,KAAK,EAAEJ,KAAK,CAACC,IAAN,CAAWe;AAFpB;AAID,OALa,CAAd;AAMD;AACF,GATQ,EASN,CAAChB,KAAK,CAACC,IAAP,CATM,CAAT;;AAUA,MAAMgB,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,CAAD,EAAO;AACnC,QAAMd,KAAK,GAAGc,CAAC,CAACC,MAAF,CAASf,KAAvB;AACAG,IAAAA,cAAc,CAAC,UAACQ,SAAD,EAAe;AAC5B,6CACKA,SADL;AAEEX,QAAAA,KAAK,EAAEA,KAFT;AAGEC,QAAAA,OAAO,EAAE;AAHX;AAKD,KANa,CAAd;AAOD,GATD;;AAUA,MAAMe,qBAAqB;AAAA,wEAAG,iBAAOF,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BA,cAAAA,CAAC,CAACG,cAAF;AACMpB,cAAAA,IAFsB,GAEf;AACXqB,gBAAAA,EAAE,EAAEtB,KAAK,CAACC,IAAN,CAAWqB,EADJ;AAEXN,gBAAAA,eAAe,EAAEV,WAAW,CAACF;AAFlB,eAFe;AAM5BK,cAAAA,UAAU,CAAC,KAAD,CAAV;AAN4B;AAAA;AAAA,qBAQHb,gBAAgB,CACrC,2BADqC,EAErCK,IAFqC,CARb;;AAAA;AAQpBsB,cAAAA,QARoB;AAY1BT,cAAAA,SAAS,CAAC,UAACC,SAAD,EAAe;AACvB,uDACKA,SADL;AAEEJ,kBAAAA,GAAG,EAAEY,QAAQ,CAACtB,IAAT,CAAcA,IAAd,CAAmBU,GAF1B;AAGEC,kBAAAA,KAAK,EAAE,SAHT;AAIEF,kBAAAA,IAAI,EAAE;AAJR;AAMD,eAPQ,CAAT;AAQAH,cAAAA,cAAc,CAAC,UAACQ,SAAD,EAAe;AAC5B,uDACKA,SADL;AAEEV,kBAAAA,OAAO,EAAE;AAFX;AAID,eALa,CAAd;AApB0B;AAAA;;AAAA;AAAA;AAAA;AA2B1BS,cAAAA,SAAS,CAAC,UAACC,SAAD,EAAe;AACvB,uDACKA,SADL;AAEEJ,kBAAAA,GAAG,EAAE,YAAMY,QAAN,CAAeC,KAFtB;AAGEZ,kBAAAA,KAAK,EAAE,QAHT;AAIEF,kBAAAA,IAAI,EAAE;AAJR;AAMD,eAPQ,CAAT;;AA3B0B;AAoC5BD,cAAAA,UAAU,CAAC,IAAD,CAAV;;AApC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAArBW,qBAAqB;AAAA;AAAA;AAAA,KAA3B;;AAsCA,MAAMK,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9BX,IAAAA,SAAS,CAAC,UAACC,SAAD,EAAe;AACvB,6CACKA,SADL;AAEEJ,QAAAA,GAAG,EAAE,EAFP;AAGEC,QAAAA,KAAK,EAAE,EAHT;AAIEF,QAAAA,IAAI,EAAE;AAJR;AAMD,KAPQ,CAAT;AAQD,GATD;;AAUA,sBACE;AAAA,eACG,CAACV,KAAK,CAACC,IAAP,iBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADlB,EAEGD,KAAK,CAACC,IAAN,iBACC,QAAC,UAAD;AAAA,6BACE,QAAC,IAAD;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAE,CAAV;AAAa,UAAA,EAAE,EAAE,EAAjB;AAAqB,UAAA,KAAK,EAAE;AAAEyB,YAAAA,KAAK,EAAE;AAAT,WAA5B;AAAA,kCACE;AAAK,YAAA,SAAS,EAAEvC,OAAO,CAACwC,YAAxB;AAAA,mCACE,QAAC,YAAD;AAAc,cAAA,IAAI,EAAE3B,KAAK,CAACC,IAAN,CAAW2B;AAA/B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBADF,eAIE;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAJF,eAOE;AAAK,YAAA,SAAS,EAAEzC,OAAO,CAAC0C,OAAxB;AAAA,mCACE,QAAC,YAAD;AACE,cAAA,KAAK,EAAE7B,KAAK,CAACC,IAAN,CAAW6B,MADpB;AAEE,cAAA,YAAY,EAAE9B,KAAK,CAACC,IAAN,CAAW2B;AAF3B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,mBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAeE,QAAC,IAAD;AAAM,UAAA,EAAE,EAAE,CAAV;AAAa,UAAA,EAAE,EAAE,EAAjB;AAAqB,UAAA,KAAK,EAAE;AAAEF,YAAAA,KAAK,EAAE;AAAT,WAA5B;AAAA,kCACE;AAAK,YAAA,SAAS,EAAEvC,OAAO,CAAC4C,SAAxB;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAK,cAAA,SAAS,EAAE5C,OAAO,CAAC6C,IAAxB;AAAA,yBACGnB,MAAM,CAACH,IAAP,iBACC,QAAC,MAAD;AACE,gBAAA,KAAK,EAAEG,MAAM,CAACD,KADhB;AAEE,gBAAA,GAAG,EAAEC,MAAM,CAACF,GAFd;AAGE,gBAAA,KAAK,EAAEc;AAHT;AAAA;AAAA;AAAA;AAAA,uBAFJ,eAQE,QAAC,IAAD;AAAM,gBAAA,QAAQ,EAAEL,qBAAhB;AAAA,wCACE,QAAC,UAAD;AACE,kBAAA,KAAK,EAAE,KADT;AAEE,kBAAA,OAAO,EAAE,CAAC,YAAD,EAAe,QAAf,EAAyB,WAAzB,CAFX;AAGE,kBAAA,KAAK,EAAEd,WAAW,CAACF,KAHrB;AAIE,kBAAA,MAAM,EAAEa;AAJV;AAAA;AAAA;AAAA;AAAA,yBADF,eAOE,QAAC,OAAD;AACE,kBAAA,OAAO,EAAE,KADX;AAEE,kBAAA,KAAK,EAAE,IAFT;AAGE,kBAAA,IAAI,EAAC,QAHP;AAIE,kBAAA,KAAK,EAAC,SAJR;AAKE,kBAAA,IAAI,EAAC,MALP;AAME,kBAAA,QAAQ,EAAE,CAACX,WAAW,CAACD,OANzB;AAOE,kBAAA,OAAO,EAAE,CAACG;AAPZ;AAAA;AAAA;AAAA;AAAA,yBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,uBARF;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eA8BE;AAAK,YAAA,SAAS,EAAErB,OAAO,CAAC4C,SAAxB;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAK,cAAA,SAAS,EAAE5C,OAAO,CAAC6C,IAAxB;AAAA,wBACGhC,KAAK,CAACC,IAAN,CAAW+B,IAAX,GACChC,KAAK,CAACC,IAAN,CAAW+B,IADZ,gBAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,qBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,mBA9BF,eAwCE;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE,QAAC,SAAD;AACE,cAAA,SAAS,EAAE7C,OAAO,CAAC8C,YADrB;AAEE,cAAA,YAAY,EAAE9C,OAAO,CAAC+C,OAFxB;AAGE,cAAA,OAAO,EAAE,eAHX;AAAA,qCAKE,QAAC,UAAD;AACE,gBAAA,KAAK,EAAE/C,OAAO,CAACgD,IADjB;AAEE,gBAAA,KAAK,YAAKnC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BC,SAAjC,cAA8CrC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BE,QAA1E;AAFP;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,qBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,mBAxCF,eAqDE,QAAC,SAAD;AACE,YAAA,SAAS,EAAEnD,OAAO,CAACoD,WADrB;AAEE,YAAA,YAAY,EAAEpD,OAAO,CAAC+C,OAFxB;AAGE,YAAA,OAAO,EAAE,qBAHX;AAAA,oCAKE,QAAC,UAAD;AACE,cAAA,KAAK,EAAE/C,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK,YAAKnC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BI,KAAjC;AAFP;AAAA;AAAA;AAAA;AAAA,qBALF,eASE,QAAC,UAAD;AACE,cAAA,KAAK,EAAErD,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK,YAAKnC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BK,KAAjC;AAFP;AAAA;AAAA;AAAA;AAAA,qBATF;AAAA;AAAA;AAAA;AAAA;AAAA,mBArDF,eAmEE,QAAC,SAAD;AACE,YAAA,SAAS,EAAEtD,OAAO,CAACoD,WADrB;AAEE,YAAA,YAAY,EAAEpD,OAAO,CAAC+C,OAFxB;AAGE,YAAA,OAAO,EAAE,iBAHX;AAAA,oCAKE,QAAC,UAAD;AACE,cAAA,KAAK,EAAE/C,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK,YAAKnC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BM,OAAjC;AAFP;AAAA;AAAA;AAAA;AAAA,qBALF,eASE,QAAC,UAAD;AACE,cAAA,KAAK,EAAEvD,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK,YAAKnC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BO,IAAjC;AAFP;AAAA;AAAA;AAAA;AAAA,qBATF,eAaE,QAAC,UAAD;AACE,cAAA,KAAK,EAAExD,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK,YAAKnC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BQ,GAAjC,cAAwC5C,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BpC,KAApE;AAFP;AAAA;AAAA;AAAA;AAAA,qBAbF,eAiBE,QAAC,UAAD;AACE,cAAA,KAAK,EAAEb,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK,YAAKnC,KAAK,CAACC,IAAN,CAAWmC,gBAAX,CAA4BS,OAAjC;AAFP;AAAA;AAAA;AAAA;AAAA,qBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,mBAnEF,eAyFE,QAAC,SAAD;AACE,YAAA,SAAS,EAAE1D,OAAO,CAACoD,WADrB;AAEE,YAAA,YAAY,EAAEpD,OAAO,CAAC+C,OAFxB;AAGE,YAAA,OAAO,EAAE,kBAHX;AAAA,uBAKGlC,KAAK,CAACC,IAAN,CAAW6C,UALd,eAME,QAAC,UAAD;AACE,cAAA,KAAK,EAAE3D,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK;AAFP;AAAA;AAAA;AAAA;AAAA,qBANF;AAAA;AAAA;AAAA;AAAA;AAAA,mBAzFF,eAoGE,QAAC,SAAD;AACE,YAAA,SAAS,EAAEhD,OAAO,CAACoD,WADrB;AAEE,YAAA,YAAY,EAAEpD,OAAO,CAAC+C,OAFxB;AAGE,YAAA,OAAO,EAAE,qBAHX;AAAA,mCAKE,QAAC,UAAD;AACE,cAAA,KAAK,EAAE/C,OAAO,CAACgD,IADjB;AAEE,cAAA,KAAK,YAAK/C,OAAO,CAACY,KAAK,CAACC,IAAN,CAAW6C,UAAZ,CAAZ;AAFP;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,mBApGF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aAHJ;AAAA,kBADF;AAwID,CA1ND;;GAAMhD,S;UAMUZ,W;;;KANVY,S;AA2NN,eAAeA,SAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { CCol, CContainer, CRow } from \"@coreui/react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport classes from \"./EditOrder.module.css\";\r\nimport { getDate } from \"src/custom-functions\";\r\nimport DetailItem from \"../UI/DetailItem\";\r\nimport DetailBox from \"../UI/DetailBox\";\r\nimport OrderDetails from \"../UI/OrderDetails/OrderDetails\";\r\nimport OrderSummary from \"../OrderSummary/OrderSummary\";\r\nimport CButton from \"src/Components/UI/Button/Button\";\r\nimport FormSelect from \"src/Components/UI/Input/FormSelect\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { sendPostAdminApi } from \"src/service/appService\";\r\nimport SAlert from \"../../UI/Alert/Alert\";\r\nconst EditOrder = () => {\r\n  const mapStateToProps = (state) => {\r\n    return {\r\n      data: state.shopStore.singleOrderData.data,\r\n    };\r\n  };\r\n  const state = useSelector(mapStateToProps);\r\n  const [orderStatus, setOrderStatus] = useState({ value: \"\", touched: false });\r\n  const [loading, setLoading] = useState(true);\r\n  const [status, setStatus] = useState({\r\n    show: false,\r\n    msg: \"\",\r\n    color: \"\",\r\n  });\r\n  useEffect(() => {\r\n    if (state.data) {\r\n      setOrderStatus((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          value: state.data.delivery_status,\r\n        };\r\n      });\r\n    }\r\n  }, [state.data]);\r\n  const onStatusChangeHandler = (e) => {\r\n    const value = e.target.value;\r\n    setOrderStatus((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        value: value,\r\n        touched: true,\r\n      };\r\n    });\r\n  };\r\n  const onStatusSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      id: state.data.id,\r\n      delivery_status: orderStatus.value,\r\n    };\r\n    setLoading(false);\r\n    try {\r\n      const response = await sendPostAdminApi(\r\n        \"store/update-order-status\",\r\n        data\r\n      );\r\n      setStatus((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          msg: response.data.data.msg,\r\n          color: \"success\",\r\n          show: true,\r\n        };\r\n      });\r\n      setOrderStatus((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          touched: false,\r\n        };\r\n      });\r\n    } catch (error) {\r\n      setStatus((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          msg: error.response.error,\r\n          color: \"danger\",\r\n          show: true,\r\n        };\r\n      });\r\n    }\r\n    setLoading(true);\r\n  };\r\n  const closeAlertHandler = () => {\r\n    setStatus((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        msg: \"\",\r\n        color: \"\",\r\n        show: false,\r\n      };\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      {!state.data && <h1>No Data Found</h1>}\r\n      {state.data && (\r\n        <CContainer>\r\n          <CRow>\r\n            <CCol md={8} sm={12} style={{ width: \"100%\" }}>\r\n              <div className={classes.orderDetails}>\r\n                <OrderDetails data={state.data.order_details} />\r\n              </div>\r\n              <div>\r\n                <hr />\r\n              </div>\r\n              <div className={classes.summary}>\r\n                <OrderSummary\r\n                  total={state.data.amount}\r\n                  orderDetails={state.data.order_details}\r\n                />\r\n              </div>\r\n            </CCol>\r\n            <CCol md={4} sm={12} style={{ width: \"100%\" }}>\r\n              <div className={classes.lineBreak}>\r\n                <h5>Order Status</h5>\r\n                <div className={classes.note}>\r\n                  {status.show && (\r\n                    <SAlert\r\n                      color={status.color}\r\n                      msg={status.msg}\r\n                      close={closeAlertHandler}\r\n                    />\r\n                  )}\r\n                  <Form onSubmit={onStatusSubmitHandler}>\r\n                    <FormSelect\r\n                      label={false}\r\n                      options={[\"Processing\", \"Packed\", \"Delivered\"]}\r\n                      value={orderStatus.value}\r\n                      change={onStatusChangeHandler}\r\n                    />\r\n                    <CButton\r\n                      control={false}\r\n                      block={true}\r\n                      type=\"submit\"\r\n                      color=\"primary\"\r\n                      name=\"Save\"\r\n                      disabled={!orderStatus.touched}\r\n                      loading={!loading}\r\n                    />\r\n                  </Form>\r\n                </div>\r\n              </div>\r\n              <div className={classes.lineBreak}>\r\n                <h5>Customer Node</h5>\r\n                <div className={classes.note}>\r\n                  {state.data.note ? (\r\n                    state.data.note\r\n                  ) : (\r\n                    <span>No Notes from Customer</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <h5>Customer Details</h5>\r\n                <DetailBox\r\n                  mainClass={classes.customerInfo}\r\n                  headingClass={classes.heading}\r\n                  heading={\"Customer Name\"}\r\n                >\r\n                  <DetailItem\r\n                    class={classes.font}\r\n                    value={`${state.data.customer_details.firstName} ${state.data.customer_details.lastName}`}\r\n                  />\r\n                </DetailBox>\r\n              </div>\r\n              <DetailBox\r\n                mainClass={classes.contactInfo}\r\n                headingClass={classes.heading}\r\n                heading={\"Contact Information\"}\r\n              >\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`${state.data.customer_details.email}`}\r\n                />\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`${state.data.customer_details.phone}`}\r\n                />\r\n              </DetailBox>\r\n              <DetailBox\r\n                mainClass={classes.contactInfo}\r\n                headingClass={classes.heading}\r\n                heading={\"Billing Address\"}\r\n              >\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`${state.data.customer_details.lineOne}`}\r\n                />\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`${state.data.customer_details.town}`}\r\n                />\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`${state.data.customer_details.zip} ${state.data.customer_details.state}`}\r\n                />\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`${state.data.customer_details.country}`}\r\n                />\r\n              </DetailBox>\r\n              <DetailBox\r\n                mainClass={classes.contactInfo}\r\n                headingClass={classes.heading}\r\n                heading={\"Shipping Address\"}\r\n              >\r\n                {state.data.created_at}\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`Same as Billing Address`}\r\n                />\r\n              </DetailBox>\r\n              <DetailBox\r\n                mainClass={classes.contactInfo}\r\n                headingClass={classes.heading}\r\n                heading={\"Order Creation Date\"}\r\n              >\r\n                <DetailItem\r\n                  class={classes.font}\r\n                  value={`${getDate(state.data.created_at)}`}\r\n                />\r\n              </DetailBox>\r\n            </CCol>\r\n          </CRow>\r\n        </CContainer>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default EditOrder;\r\n"]},"metadata":{},"sourceType":"module"}