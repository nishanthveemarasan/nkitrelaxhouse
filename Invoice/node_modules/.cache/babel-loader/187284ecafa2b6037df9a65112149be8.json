{"ast":null,"code":"import ActionButton from\"src/Components/UI/ActionButton/ActionButton\";import{useSelector,useDispatch}from\"react-redux\";import{getDate}from\"src/custom-functions\";import classes from\"./Posts.module.css\";import{getSinglePostData,openPostModal}from\"src/store/post.slice\";import CBadge from\"src/Components/UI/Badge/CBadge\";import CButton from\"src/Components/UI/Button/Button\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AllPostBodyTable=function AllPostBodyTable(props){var mapStateToProps=function mapStateToProps(state){return{singlePostData:state.postStore.singlePostData};};var state=useSelector(mapStateToProps);var history=useHistory();var dispatch=useDispatch();var updateHandler=function updateHandler(id){var data={id:props.body[id].id,postData:props.body[id],status:\"update\",action:\"Update\"};dispatch(openPostModal(data));};var deleteleHandler=function deleteleHandler(id){var data={id:props.body[id].id,postData:props.body[id],action:\"Delete\"};dispatch(openPostModal(data));};var onSubmitHandler=function onSubmitHandler(id){dispatch(getSinglePostData(id,\"post\"));history.push(\"/admin/singlePost\");};return/*#__PURE__*/_jsx(_Fragment,{children:props.body.map(function(row,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.id}),/*#__PURE__*/_jsx(\"td\",{children:row.name}),/*#__PURE__*/_jsx(\"td\",{children:row.title}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(CButton,{color:\"primary\",name:\"View Post\",type:\"button\",size:\"20%\",loading:state.singlePostData.isDataReceived,click:onSubmitHandler.bind(null,row.id)})}),/*#__PURE__*/_jsx(\"td\",{children:getDate(row.updated_at)}),/*#__PURE__*/_jsx(\"td\",{children:row.comments_count}),/*#__PURE__*/_jsx(\"td\",{children:row.likes_count}),/*#__PURE__*/_jsx(\"td\",{children:getStatus(row.status)}),/*#__PURE__*/_jsx(\"td\",{children:getStatus(row.type)}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(ActionButton,{value:\"Edit Post\",class:classes.view,name:\"cil-align-center\",action:function action(){return updateHandler(i);}}),\" \",\"| \",getAction(row.id,row.type,dispatch)]})]},i);})});};export default AllPostBodyTable;var getStatus=function getStatus(value){switch(value){case\"publish\":return/*#__PURE__*/_jsx(CBadge,{color:\"primary\",value:\"Published\",size:\"100%\"});case\"draft\":return/*#__PURE__*/_jsx(CBadge,{color:\"warning\",value:\"Draft\",size:\"100%\"});case\"active\":return/*#__PURE__*/_jsx(CBadge,{color:\"success\",value:\"Active\",size:\"100%\"});case\"disabled\":return/*#__PURE__*/_jsx(CBadge,{color:\"danger\",value:\"Inactive\",size:\"100%\"});default:return false;}};var getAction=function getAction(id,type,dispatch){var deleteleHandler=function deleteleHandler(id,status){var data={id:id,status:status,action:\"Delete\"};dispatch(openPostModal(data));};switch(type){case\"active\":return/*#__PURE__*/_jsx(CButton,{color:\"danger\",name:\"Disable\",type:\"button\",size:\"20%\",loading:false,click:deleteleHandler.bind(null,id,\"disabled\")});case\"disabled\":return/*#__PURE__*/_jsx(CButton,{color:\"success\",name:\"Enable\",type:\"button\",size:\"20%\",loading:false,click:deleteleHandler.bind(null,id,\"active\")});default:return false;}};","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/Components/views/Posts/AllPostBodyTable.js"],"names":["ActionButton","useSelector","useDispatch","getDate","classes","getSinglePostData","openPostModal","CBadge","CButton","useHistory","AllPostBodyTable","props","mapStateToProps","state","singlePostData","postStore","history","dispatch","updateHandler","id","data","body","postData","status","action","deleteleHandler","onSubmitHandler","push","map","row","i","name","title","isDataReceived","bind","updated_at","comments_count","likes_count","getStatus","type","view","getAction","value"],"mappings":"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","sourcesContent":["import ActionButton from \"src/Components/UI/ActionButton/ActionButton\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDate } from \"src/custom-functions\";\r\nimport classes from \"./Posts.module.css\";\r\nimport { getSinglePostData, openPostModal } from \"src/store/post.slice\";\r\nimport CBadge from \"src/Components/UI/Badge/CBadge\";\r\nimport CButton from \"src/Components/UI/Button/Button\";\r\nimport { useHistory } from \"react-router\";\r\nconst AllPostBodyTable = (props) => {\r\n  const mapStateToProps = (state) => {\r\n    return {\r\n      singlePostData: state.postStore.singlePostData,\r\n    };\r\n  };\r\n  const state = useSelector(mapStateToProps);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const updateHandler = (id) => {\r\n    const data = {\r\n      id: props.body[id].id,\r\n      postData: props.body[id],\r\n      status: \"update\",\r\n      action: \"Update\",\r\n    };\r\n    dispatch(openPostModal(data));\r\n  };\r\n  const deleteleHandler = (id) => {\r\n    const data = {\r\n      id: props.body[id].id,\r\n      postData: props.body[id],\r\n      action: \"Delete\",\r\n    };\r\n    dispatch(openPostModal(data));\r\n  };\r\n\r\n  const onSubmitHandler = (id) => {\r\n    dispatch(getSinglePostData(id, \"post\"));\r\n    history.push(\"/admin/singlePost\");\r\n  };\r\n  return (\r\n    <>\r\n      {props.body.map((row, i) => {\r\n        return (\r\n          <tr key={i}>\r\n            <td>{row.id}</td>\r\n            <td>{row.name}</td>\r\n            <td>{row.title}</td>\r\n            <td>\r\n              {\r\n                <CButton\r\n                  color={\"primary\"}\r\n                  name={\"View Post\"}\r\n                  type=\"button\"\r\n                  size=\"20%\"\r\n                  loading={state.singlePostData.isDataReceived}\r\n                  click={onSubmitHandler.bind(null, row.id)}\r\n                />\r\n              }\r\n            </td>\r\n            <td>{getDate(row.updated_at)}</td>\r\n            <td>{row.comments_count}</td>\r\n            <td>{row.likes_count}</td>\r\n            <td>{getStatus(row.status)}</td>\r\n            <td>{getStatus(row.type)}</td>\r\n            <td>\r\n              <ActionButton\r\n                value=\"Edit Post\"\r\n                class={classes.view}\r\n                name=\"cil-align-center\"\r\n                action={() => updateHandler(i)}\r\n              />{\" \"}\r\n              | {getAction(row.id, row.type, dispatch)}\r\n            </td>\r\n          </tr>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\nexport default AllPostBodyTable;\r\n\r\nconst getStatus = (value) => {\r\n  switch (value) {\r\n    case \"publish\":\r\n      return <CBadge color=\"primary\" value={\"Published\"} size=\"100%\" />;\r\n    case \"draft\":\r\n      return <CBadge color=\"warning\" value={\"Draft\"} size=\"100%\" />;\r\n    case \"active\":\r\n      return <CBadge color=\"success\" value={\"Active\"} size=\"100%\" />;\r\n    case \"disabled\":\r\n      return <CBadge color=\"danger\" value={\"Inactive\"} size=\"100%\" />;\r\n    default:\r\n      return false;\r\n  }\r\n};\r\n\r\nconst getAction = (id, type, dispatch) => {\r\n  const deleteleHandler = (id, status) => {\r\n    const data = {\r\n      id,\r\n      status,\r\n      action: \"Delete\",\r\n    };\r\n    dispatch(openPostModal(data));\r\n  };\r\n  switch (type) {\r\n    case \"active\":\r\n      return (\r\n        <CButton\r\n          color={\"danger\"}\r\n          name={\"Disable\"}\r\n          type=\"button\"\r\n          size=\"20%\"\r\n          loading={false}\r\n          click={deleteleHandler.bind(null, id, \"disabled\")}\r\n        />\r\n      );\r\n    case \"disabled\":\r\n      return (\r\n        <CButton\r\n          color={\"success\"}\r\n          name={\"Enable\"}\r\n          type=\"button\"\r\n          size=\"20%\"\r\n          loading={false}\r\n          click={deleteleHandler.bind(null, id, \"active\")}\r\n        />\r\n      );\r\n    default:\r\n      return false;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}