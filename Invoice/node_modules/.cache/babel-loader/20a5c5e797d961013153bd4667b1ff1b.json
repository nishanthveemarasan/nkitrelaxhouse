{"ast":null,"code":"import _objectSpread from \"C:/xampp/htdocs/nkItService/relax-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport API from \"src/axios/axios\";\nimport { sendPostApi } from \"src/service/appService\";\nimport { registerStoreAction } from \"./store\";\nvar initialState = {\n  isLoading: false,\n  message: {\n    msg: [],\n    color: \"\",\n    status: false,\n    isRegistered: false\n  }\n};\nvar registerSlice = createSlice({\n  name: \"register\",\n  initialState: initialState,\n  reducers: {\n    sendRequest: function sendRequest(state) {\n      state.isLoading = true;\n    },\n    getResponse: function getResponse(state, action) {\n      state.isLoading = false;\n      state.message = _objectSpread(_objectSpread({}, state.message), {}, {\n        msg: action.payload.data,\n        status: action.payload.status,\n        color: action.payload.color,\n        isRegistered: true\n      });\n    }\n  }\n});\nexport default registerSlice;\nexport var registerData = function registerData(data) {\n  return function (dispatch) {\n    dispatch(registerStoreAction.sendRequest());\n    API.post(\"users/create\", data);\n    sendPostApi().then(function (response) {\n      var array = [response.data.data.msg];\n      dispatch(registerStoreAction.getResponse({\n        data: array,\n        status: true,\n        color: \"success\"\n      }));\n    }).catch(function (error) {\n      var array = [];\n\n      for (var key in error.response.data.error) {\n        array.push(error.response.data.error[key][0]);\n      }\n\n      dispatch(registerStoreAction.getResponse({\n        data: array,\n        status: false,\n        color: \"danger\"\n      }));\n    });\n  };\n};","map":{"version":3,"sources":["C:/xampp/htdocs/nkItService/relax-frontend/src/store/register-slice.js"],"names":["createSlice","API","sendPostApi","registerStoreAction","initialState","isLoading","message","msg","color","status","isRegistered","registerSlice","name","reducers","sendRequest","state","getResponse","action","payload","data","registerData","dispatch","post","then","response","array","catch","error","key","push"],"mappings":";AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,mBAAT,QAAoC,SAApC;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAE,KADQ;AAEnBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,GAAG,EAAE,EADE;AAEPC,IAAAA,KAAK,EAAE,EAFA;AAGPC,IAAAA,MAAM,EAAE,KAHD;AAIPC,IAAAA,YAAY,EAAE;AAJP;AAFU,CAArB;AAUA,IAAMC,aAAa,GAAGX,WAAW,CAAC;AAChCY,EAAAA,IAAI,EAAE,UAD0B;AAEhCR,EAAAA,YAAY,EAAZA,YAFgC;AAGhCS,EAAAA,QAAQ,EAAE;AACRC,IAAAA,WADQ,uBACIC,KADJ,EACW;AACjBA,MAAAA,KAAK,CAACV,SAAN,GAAkB,IAAlB;AACD,KAHO;AAIRW,IAAAA,WAJQ,uBAIID,KAJJ,EAIWE,MAJX,EAImB;AACzBF,MAAAA,KAAK,CAACV,SAAN,GAAkB,KAAlB;AACAU,MAAAA,KAAK,CAACT,OAAN,mCACKS,KAAK,CAACT,OADX;AAEEC,QAAAA,GAAG,EAAEU,MAAM,CAACC,OAAP,CAAeC,IAFtB;AAGEV,QAAAA,MAAM,EAAEQ,MAAM,CAACC,OAAP,CAAeT,MAHzB;AAIED,QAAAA,KAAK,EAAES,MAAM,CAACC,OAAP,CAAeV,KAJxB;AAKEE,QAAAA,YAAY,EAAE;AALhB;AAOD;AAbO;AAHsB,CAAD,CAAjC;AAmBA,eAAeC,aAAf;AAEA,OAAO,IAAMS,YAAY,GAAG,SAAfA,YAAe,CAACD,IAAD,EAAU;AACpC,SAAO,UAACE,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAAClB,mBAAmB,CAACW,WAApB,EAAD,CAAR;AACAb,IAAAA,GAAG,CAACqB,IAAJ,CAAS,cAAT,EAAyBH,IAAzB;AACAjB,IAAAA,WAAW,GACRqB,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,UAAMC,KAAK,GAAG,CAACD,QAAQ,CAACL,IAAT,CAAcA,IAAd,CAAmBZ,GAApB,CAAd;AACAc,MAAAA,QAAQ,CACNlB,mBAAmB,CAACa,WAApB,CAAgC;AAC9BG,QAAAA,IAAI,EAAEM,KADwB;AAE9BhB,QAAAA,MAAM,EAAE,IAFsB;AAG9BD,QAAAA,KAAK,EAAE;AAHuB,OAAhC,CADM,CAAR;AAOD,KAVH,EAWGkB,KAXH,CAWS,UAACC,KAAD,EAAW;AAChB,UAAIF,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIG,GAAT,IAAgBD,KAAK,CAACH,QAAN,CAAeL,IAAf,CAAoBQ,KAApC,EAA2C;AACzCF,QAAAA,KAAK,CAACI,IAAN,CAAWF,KAAK,CAACH,QAAN,CAAeL,IAAf,CAAoBQ,KAApB,CAA0BC,GAA1B,EAA+B,CAA/B,CAAX;AACD;;AACDP,MAAAA,QAAQ,CACNlB,mBAAmB,CAACa,WAApB,CAAgC;AAC9BG,QAAAA,IAAI,EAAEM,KADwB;AAE9BhB,QAAAA,MAAM,EAAE,KAFsB;AAG9BD,QAAAA,KAAK,EAAE;AAHuB,OAAhC,CADM,CAAR;AAOD,KAvBH;AAwBD,GA3BD;AA4BD,CA7BM","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport API from \"src/axios/axios\";\r\nimport { sendPostApi } from \"src/service/appService\";\r\nimport { registerStoreAction } from \"./store\";\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  message: {\r\n    msg: [],\r\n    color: \"\",\r\n    status: false,\r\n    isRegistered: false,\r\n  },\r\n};\r\n\r\nconst registerSlice = createSlice({\r\n  name: \"register\",\r\n  initialState,\r\n  reducers: {\r\n    sendRequest(state) {\r\n      state.isLoading = true;\r\n    },\r\n    getResponse(state, action) {\r\n      state.isLoading = false;\r\n      state.message = {\r\n        ...state.message,\r\n        msg: action.payload.data,\r\n        status: action.payload.status,\r\n        color: action.payload.color,\r\n        isRegistered: true,\r\n      };\r\n    },\r\n  },\r\n});\r\nexport default registerSlice;\r\n\r\nexport const registerData = (data) => {\r\n  return (dispatch) => {\r\n    dispatch(registerStoreAction.sendRequest());\r\n    API.post(\"users/create\", data)\r\n    sendPostApi()\r\n      .then((response) => {\r\n        const array = [response.data.data.msg];\r\n        dispatch(\r\n          registerStoreAction.getResponse({\r\n            data: array,\r\n            status: true,\r\n            color: \"success\",\r\n          })\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        let array = [];\r\n        for (let key in error.response.data.error) {\r\n          array.push(error.response.data.error[key][0]);\r\n        }\r\n        dispatch(\r\n          registerStoreAction.getResponse({\r\n            data: array,\r\n            status: false,\r\n            color: \"danger\",\r\n          })\r\n        );\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}